import{r as w,H as x,c as f,j as r,T as t,t as S,J as E,Q as n}from"./index.c3bfd613.js";import{u as N}from"./index.esm.a72616c3.js";import{c as q,a as c,o as v}from"./object.a233b247.js";import{a as P}from"./authApiSlice.14be12de.js";const k=q({name:c().required("Name is Required"),email:c().email("Invalid email").required("Email is Required"),password:c().min(6,"Password must be at least 8 characters").max(20,"Password shouldn't be more than 20 characters").required("Please enter password")}).required(),B=()=>{const[d,{isLoading:u,isError:C,error:R,isSuccess:j}]=P(),[i,p]=w.exports.useState(!1),{register:a,formState:{errors:s},handleSubmit:h,reset:b}=N({resolver:v(k),mode:"all"}),g=x();return f("form",{onSubmit:h(async y=>{var l,m;try{const e=await d(y);if(e.error)throw new Error(e.error.message);b(),g("/"),n.success("Add Successfully")}catch(e){console.log(e.response);const o=((m=(l=e.response)==null?void 0:l.data)==null?void 0:m.message)||"An error occurred. Please try again later.";o==="Email is already registered"?n.error(o):n.warning(o)}}),className:"space-y-5 ",children:[r(t,{name:"name",label:"name",type:"text",placeholder:" Enter your name",register:a,error:s.name,className:"h-[48px]"})," ",r(t,{name:"email",label:"email",type:"email",placeholder:" Enter your email",register:a,error:s.email,className:"h-[48px]"}),r(t,{name:"password",label:"passwrod",type:"password",placeholder:" Enter your password",register:a,error:s.password,className:"h-[48px]"}),r(S,{label:"You accept our Terms and Conditions and Privacy Policy",value:i,onChange:()=>p(!i)}),r(E,{type:"submit",text:"Create an account",className:"btn btn-dark block w-full text-center",isLoading:u})]})};export{B as R};
