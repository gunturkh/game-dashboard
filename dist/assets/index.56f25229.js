import{b as fn,r as g,R as dr,c as F,j as y,F as fr,bk as hn,bl as gn,H as pn,G as vn,a as yn,bh as mn,C as bn,bm as ae}from"./index.c3bfd613.js";import"./index.8a249f4e.js";import"./dayjs.min.68b8090d.js";import{_ as On}from"./setPrototypeOf.2c036230.js";import{_ as st}from"./assertThisInitialized.962dde02.js";import{_ as Sn}from"./inheritsLoose.5c0b15c1.js";import{m as _e}from"./memoize-one.esm.7a54f149.js";const In=fn.injectEndpoints({tagTypes:["Referrals"],endpoints:t=>({getReferrals:t.query({query:e=>({url:"/admin/players/network",params:e&&{id:e}}),transformResponse:e=>e.data,providesTags:["Referrals"]})})}),{useGetReferralsQuery:Dn}=In,hr=g.exports.createContext(null);function P(){const t=g.exports.useContext(hr);if(t===null)throw new Error("No Tree Api Provided");return t}const gr=g.exports.createContext(null);function Tn(){const t=g.exports.useContext(gr);if(t===null)throw new Error("Provide a NodesContext");return t}const pr=g.exports.createContext(null);function wn(){const t=g.exports.useContext(pr);if(t===null)throw new Error("Provide a DnDContext");return t}const vr=g.exports.createContext(0);function yr(){g.exports.useContext(vr)}function de(t,e,r){return Math.max(Math.min(t,r),e)}function mr(t){return t&&t.isLeaf}function br(t){return t&&t.isInternal&&!t.isOpen}function Or(t){var e;return t&&t.isOpen&&!(!((e=t.children)===null||e===void 0)&&e.length)}const Sr=(t,e)=>{let r=t;for(;r;){if(r.id===e.id)return!0;r=r.parent}return!1},Ir=t=>{if(!t.parent)throw Error("Node does not have a parent");return t.parent.children.findIndex(e=>e.id===t.id)};function Cn(){}function Ye(t,e){if(!t)return null;if(t.id===e)return t;if(t.children)for(let r of t.children){const n=Ye(r,e);if(n)return n}return null}function be(t,e){if(e(t),t.children)for(let r of t.children)be(r,e)}function Dr(t){const e=wr(t);let r;for(let n=0;n<e.length;++n)if(e[n]===t){r=En(e,n);break}r==null||r.focus()}function Tr(t){const e=wr(t);let r;for(let n=0;n<e.length;++n)if(e[n]===t){r=_n(e,n);break}r==null||r.focus()}function En(t,e){return e+1<t.length?t[e+1]:t[0]}function _n(t,e){return e-1>=0?t[e-1]:t[t.length-1]}function wr(t){return Array.from(document.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)')).filter(e=>e===t||!t.contains(e))}function te(t,e){return typeof e=="boolean"?e:typeof e=="string"?t[e]:e(t)}function Cr(t){return t===null?null:U(t)}function U(t){return typeof t=="string"?t:t.id}function xn(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}function Er(t,...e){if(t)return t(...e)}function _r(t){return new Promise((e,r)=>{let n=0;function i(){n+=1,n===100&&r(),t()?e():setTimeout(i,10)}i()})}function xr(t){var e,r;const n=t.focusedNode;return n?n.isOpen?0:n.parent?n.childIndex+1:0:(r=(e=t.root.children)===null||e===void 0?void 0:e.length)!==null&&r!==void 0?r:0}function Nr(t){const e=t.focusedNode;return e?e.isOpen?e.id:e.parent&&!e.parent.isRoot?e.parent.id:null:null}const Nn=Object.freeze(Object.defineProperty({__proto__:null,bound:de,isItem:mr,isClosed:br,isOpenWithEmptyChildren:Or,isDescendant:Sr,indexOf:Ir,noop:Cn,dfs:Ye,walk:be,focusNextElement:Dr,focusPrevElement:Tr,access:te,identifyNull:Cr,identify:U,mergeRefs:xn,safeRun:Er,waitFor:_r,getInsertIndex:xr,getInsertParentId:Nr},Symbol.toStringTag,{value:"Module"})),Pn={display:"flex",alignItems:"center",zIndex:1},kn={flex:1,height:"2px",background:"#4B91E2",borderRadius:"1px"},Rn={width:"4px",height:"4px",boxShadow:"0 0 0 3px #4B91E2",borderRadius:"50%"},An=dr.memo(function({top:e,left:r,indent:n}){const i={position:"absolute",pointerEvents:"none",top:e-2+"px",left:r+"px",right:n+"px"};return F("div",{style:Object.assign(Object.assign({},Pn),i),children:[y("div",{style:Object.assign({},Rn)}),y("div",{style:Object.assign({},kn)})]})});function Mn({node:t,attrs:e,innerRef:r,children:n}){return y("div",Object.assign({},e,{ref:r,onFocus:i=>i.stopPropagation(),onClick:t.handleClick,children:n}))}function $n(t){return F("div",{ref:t.dragHandle,style:t.style,children:[y("span",{onClick:e=>{e.stopPropagation(),t.node.toggle()},children:t.node.isLeaf?"\u{1F333}":t.node.isOpen?"\u{1F5C1}":"\u{1F5C0}"})," ",t.node.isEditing?y(jn,Object.assign({},t)):y(Ln,Object.assign({},t))]})}function Ln(t){return y(fr,{children:y("span",{children:t.node.data.name})})}function jn({node:t}){const e=g.exports.useRef();return g.exports.useEffect(()=>{var r,n;(r=e.current)===null||r===void 0||r.focus(),(n=e.current)===null||n===void 0||n.select()},[]),y("input",{ref:e,defaultValue:t.data.name,onBlur:()=>t.reset(),onKeyDown:r=>{var n;r.key==="Escape"&&t.reset(),r.key==="Enter"&&t.submit(((n=e.current)===null||n===void 0?void 0:n.value)||"")}})}function xe(t){return{type:"EDIT",id:t}}function Hn(t={id:null},e){return e.type==="EDIT"?Object.assign(Object.assign({},t),{id:e.id}):t}function V(t){return{type:"FOCUS",id:t}}function Fn(){return{type:"TREE_BLUR"}}function Un(t={id:null,treeFocused:!1},e){return e.type==="FOCUS"?Object.assign(Object.assign({},t),{id:e.id,treeFocused:!0}):e.type==="TREE_BLUR"?Object.assign(Object.assign({},t),{treeFocused:!1}):t}class Oe{constructor(e){this.handleClick=r=>{r.metaKey&&!this.tree.props.disableMultiSelection?this.isSelected?this.deselect():this.selectMulti():r.shiftKey&&!this.tree.props.disableMultiSelection?this.selectContiguous():(this.select(),this.activate())},this.tree=e.tree,this.id=e.id,this.data=e.data,this.level=e.level,this.children=e.children,this.parent=e.parent,this.isDraggable=e.isDraggable,this.rowIndex=e.rowIndex}get isRoot(){return this.id===ne}get isLeaf(){return!Array.isArray(this.children)}get isInternal(){return!this.isLeaf}get isOpen(){return this.isLeaf?!1:this.tree.isOpen(this.id)}get isClosed(){return this.isLeaf?!1:!this.tree.isOpen(this.id)}get isEditable(){return this.tree.isEditable(this.data)}get isEditing(){return this.tree.editingId===this.id}get isSelected(){return this.tree.isSelected(this.id)}get isOnlySelection(){return this.isSelected&&this.tree.hasOneSelection}get isSelectedStart(){var e;return this.isSelected&&!(!((e=this.prev)===null||e===void 0)&&e.isSelected)}get isSelectedEnd(){var e;return this.isSelected&&!(!((e=this.next)===null||e===void 0)&&e.isSelected)}get isFocused(){return this.tree.isFocused(this.id)}get isDragging(){return this.tree.isDragging(this.id)}get willReceiveDrop(){return this.tree.willReceiveDrop(this.id)}get state(){return{isClosed:this.isClosed,isDragging:this.isDragging,isEditing:this.isEditing,isFocused:this.isFocused,isInternal:this.isInternal,isLeaf:this.isLeaf,isOpen:this.isOpen,isSelected:this.isSelected,isSelectedEnd:this.isSelectedEnd,isSelectedStart:this.isSelectedStart,willReceiveDrop:this.willReceiveDrop}}get childIndex(){return this.parent&&this.parent.children?this.parent.children.findIndex(e=>e.id===this.id):-1}get next(){return this.rowIndex===null?null:this.tree.at(this.rowIndex+1)}get prev(){return this.rowIndex===null?null:this.tree.at(this.rowIndex-1)}get nextSibling(){var e,r;const n=this.childIndex;return(r=(e=this.parent)===null||e===void 0?void 0:e.children[n+1])!==null&&r!==void 0?r:null}isAncestorOf(e){if(!e)return!1;let r=e;for(;r;){if(r.id===this.id)return!0;r=r.parent}return!1}select(){this.tree.select(this)}deselect(){this.tree.deselect(this)}selectMulti(){this.tree.selectMulti(this)}selectContiguous(){this.tree.selectContiguous(this)}activate(){this.tree.activate(this)}focus(){this.tree.focus(this)}toggle(){this.tree.toggle(this)}open(){this.tree.open(this)}openParents(){this.tree.openParents(this)}close(){this.tree.close(this)}submit(e){this.tree.submit(this,e)}reset(){this.tree.reset()}clone(){return new Oe(Object.assign({},this))}edit(){return this.tree.edit(this)}}const ne="__REACT_ARBORIST_INTERNAL_ROOT__";function ut(t){var e;function r(o,a,s){const u=t.accessId(o),l=new Oe({tree:t,data:o,level:a,parent:s,id:u,children:null,isDraggable:t.isDraggable(o),rowIndex:null}),d=t.accessChildren(o);return d&&(l.children=d.map(p=>r(p,a+1,l))),l}const n=new Oe({tree:t,id:ne,data:{id:ne},level:-1,parent:null,children:null,isDraggable:!0,rowIndex:null}),i=(e=t.props.data)!==null&&e!==void 0?e:[];return n.children=i.map(o=>r(o,0,n)),n}const ze={open(t,e){return{type:"VISIBILITY_OPEN",id:t,filtered:e}},close(t,e){return{type:"VISIBILITY_CLOSE",id:t,filtered:e}},toggle(t,e){return{type:"VISIBILITY_TOGGLE",id:t,filtered:e}},clear(t){return{type:"VISIBILITY_CLEAR",filtered:t}}};function lt(t={},e){if(e.type==="VISIBILITY_OPEN")return Object.assign(Object.assign({},t),{[e.id]:!0});if(e.type==="VISIBILITY_CLOSE")return Object.assign(Object.assign({},t),{[e.id]:!1});if(e.type==="VISIBILITY_TOGGLE"){const r=t[e.id];return Object.assign(Object.assign({},t),{[e.id]:!r})}else return e.type==="VISIBILITY_CLEAR"?{}:t}function zn(t={filtered:{},unfiltered:{}},e){return e.type.startsWith("VISIBILITY")?e.filtered?Object.assign(Object.assign({},t),{filtered:lt(t.filtered,e)}):Object.assign(Object.assign({},t),{unfiltered:lt(t.unfiltered,e)}):t}const X=t=>{var e;return{nodes:{open:{filtered:{},unfiltered:(e=t==null?void 0:t.initialOpenState)!==null&&e!==void 0?e:{}},focus:{id:null,treeFocused:!1},edit:{id:null},drag:{id:null,selectedIds:[],destinationParentId:null,destinationIndex:null},selection:{ids:new Set,anchor:null,mostRecent:null}},dnd:{cursor:{type:"none"},dragId:null,dragIds:[],parentId:null,index:-1}}},M={clear:()=>({type:"SELECTION_CLEAR"}),only:t=>({type:"SELECTION_ONLY",id:U(t)}),add:t=>({type:"SELECTION_ADD",ids:(Array.isArray(t)?t:[t]).map(U)}),remove:t=>({type:"SELECTION_REMOVE",ids:(Array.isArray(t)?t:[t]).map(U)}),set:t=>Object.assign({type:"SELECTION_SET"},t),mostRecent:t=>({type:"SELECTION_MOST_RECENT",id:t===null?null:U(t)}),anchor:t=>({type:"SELECTION_ANCHOR",id:t===null?null:U(t)})};function Wn(t=X().nodes.selection,e){const r=t.ids;switch(e.type){case"SELECTION_CLEAR":return Object.assign(Object.assign({},t),{ids:new Set});case"SELECTION_ONLY":return Object.assign(Object.assign({},t),{ids:new Set([e.id])});case"SELECTION_ADD":return e.ids.length===0?t:(e.ids.forEach(n=>r.add(n)),Object.assign(Object.assign({},t),{ids:new Set(r)}));case"SELECTION_REMOVE":return e.ids.length===0?t:(e.ids.forEach(n=>r.delete(n)),Object.assign(Object.assign({},t),{ids:new Set(r)}));case"SELECTION_SET":return Object.assign(Object.assign({},t),{ids:e.ids,mostRecent:e.mostRecent,anchor:e.anchor});case"SELECTION_MOST_RECENT":return Object.assign(Object.assign({},t),{mostRecent:e.id});case"SELECTION_ANCHOR":return Object.assign(Object.assign({},t),{anchor:e.id});default:return t}}const Q={cursor(t){return{type:"DND_CURSOR",cursor:t}},dragStart(t,e){return{type:"DND_DRAG_START",id:t,dragIds:e}},dragEnd(){return{type:"DND_DRAG_END"}},hovering(t,e){return{type:"DND_HOVERING",parentId:t,index:e}}};function Bn(t=X().dnd,e){switch(e.type){case"DND_CURSOR":return Object.assign(Object.assign({},t),{cursor:e.cursor});case"DND_DRAG_START":return Object.assign(Object.assign({},t),{dragId:e.id,dragIds:e.dragIds});case"DND_DRAG_END":return X().dnd;case"DND_HOVERING":return Object.assign(Object.assign({},t),{parentId:e.parentId,index:e.index});default:return t}}const Vn={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"},qn=t=>{if(!t)return{display:"none"};const{x:e,y:r}=t;return{transform:`translate(${e}px, ${r}px)`}},Gn=t=>{if(!t)return{display:"none"};const{x:e,y:r}=t;return{transform:`translate(${e+10}px, ${r+10}px)`}};function Pr({offset:t,mouse:e,id:r,dragIds:n,isDragging:i}){return F(Kn,{isDragging:i,children:[y(Yn,{offset:t,children:y(Qn,{id:r,dragIds:n})}),y(Xn,{mouse:e,count:n.length})]})}const Kn=g.exports.memo(function(e){return e.isDragging?y("div",{style:Vn,children:e.children}):null});function Yn(t){return y("div",{className:"row preview",style:qn(t.offset),children:t.children})}function Xn(t){const{count:e,mouse:r}=t;return e>1?y("div",{className:"selected-count",style:Gn(r),children:e}):null}const Qn=g.exports.memo(function(e){const r=P(),n=r.get(e.id);return n?y(r.renderNode,{preview:!0,node:n,style:{paddingLeft:n.level*r.indent,opacity:.2,background:"transparent"},tree:r}):null});var Jn=typeof performance=="object"&&typeof performance.now=="function",ct=Jn?function(){return performance.now()}:function(){return Date.now()};function dt(t){cancelAnimationFrame(t.id)}function Zn(t,e){var r=ct();function n(){ct()-r>=e?t.call(null):i.id=requestAnimationFrame(n)}var i={id:requestAnimationFrame(n)};return i}var Ne=-1;function ft(t){if(t===void 0&&(t=!1),Ne===-1||t){var e=document.createElement("div"),r=e.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(e),Ne=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Ne}var q=null;function ht(t){if(t===void 0&&(t=!1),q===null||t){var e=document.createElement("div"),r=e.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",e.appendChild(n),document.body.appendChild(e),e.scrollLeft>0?q="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?q="negative":q="positive-ascending"),document.body.removeChild(e),q}return q}var ei=150,ti=function(e,r){return e},fe=null,he=null;typeof window<"u"&&typeof window.WeakSet<"u"&&(fe=new WeakSet,he=new WeakSet);function ri(t){var e,r=t.getItemOffset,n=t.getEstimatedTotalSize,i=t.getItemSize,o=t.getOffsetForIndexAndAlignment,a=t.getStartIndexForOffset,s=t.getStopIndexForStartIndex,u=t.initInstanceProps,l=t.shouldResetStyleCacheOnItemSizeChange,d=t.validateProps;return e=function(p){Sn(b,p);function b(I){var c;return c=p.call(this,I)||this,c._instanceProps=u(c.props,st(c)),c._outerRef=void 0,c._resetIsScrollingTimeoutId=null,c.state={instance:st(c),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof c.props.initialScrollOffset=="number"?c.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},c._callOnItemsRendered=void 0,c._callOnItemsRendered=_e(function(f,h,v,O){return c.props.onItemsRendered({overscanStartIndex:f,overscanStopIndex:h,visibleStartIndex:v,visibleStopIndex:O})}),c._callOnScroll=void 0,c._callOnScroll=_e(function(f,h,v){return c.props.onScroll({scrollDirection:f,scrollOffset:h,scrollUpdateWasRequested:v})}),c._getItemStyle=void 0,c._getItemStyle=function(f){var h=c.props,v=h.direction,O=h.itemSize,w=h.layout,D=c._getItemStyleCache(l&&O,l&&w,l&&v),C;if(D.hasOwnProperty(f))C=D[f];else{var E=r(c.props,f,c._instanceProps),N=i(c.props,f,c._instanceProps),A=v==="horizontal"||w==="horizontal",ie=v==="rtl",oe=A?E:0;D[f]=C={position:"absolute",left:ie?void 0:oe,right:ie?oe:void 0,top:A?0:E,height:A?"100%":N,width:A?N:"100%"}}return C},c._getItemStyleCache=void 0,c._getItemStyleCache=_e(function(f,h,v){return{}}),c._onScrollHorizontal=function(f){var h=f.currentTarget,v=h.clientWidth,O=h.scrollLeft,w=h.scrollWidth;c.setState(function(D){if(D.scrollOffset===O)return null;var C=c.props.direction,E=O;if(C==="rtl")switch(ht()){case"negative":E=-O;break;case"positive-descending":E=w-v-O;break}return E=Math.max(0,Math.min(E,w-v)),{isScrolling:!0,scrollDirection:D.scrollOffset<E?"forward":"backward",scrollOffset:E,scrollUpdateWasRequested:!1}},c._resetIsScrollingDebounced)},c._onScrollVertical=function(f){var h=f.currentTarget,v=h.clientHeight,O=h.scrollHeight,w=h.scrollTop;c.setState(function(D){if(D.scrollOffset===w)return null;var C=Math.max(0,Math.min(w,O-v));return{isScrolling:!0,scrollDirection:D.scrollOffset<C?"forward":"backward",scrollOffset:C,scrollUpdateWasRequested:!1}},c._resetIsScrollingDebounced)},c._outerRefSetter=function(f){var h=c.props.outerRef;c._outerRef=f,typeof h=="function"?h(f):h!=null&&typeof h=="object"&&h.hasOwnProperty("current")&&(h.current=f)},c._resetIsScrollingDebounced=function(){c._resetIsScrollingTimeoutId!==null&&dt(c._resetIsScrollingTimeoutId),c._resetIsScrollingTimeoutId=Zn(c._resetIsScrolling,ei)},c._resetIsScrolling=function(){c._resetIsScrollingTimeoutId=null,c.setState({isScrolling:!1},function(){c._getItemStyleCache(-1,null)})},c}b.getDerivedStateFromProps=function(c,f){return ni(c,f),d(c),null};var S=b.prototype;return S.scrollTo=function(c){c=Math.max(0,c),this.setState(function(f){return f.scrollOffset===c?null:{scrollDirection:f.scrollOffset<c?"forward":"backward",scrollOffset:c,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},S.scrollToItem=function(c,f){f===void 0&&(f="auto");var h=this.props,v=h.itemCount,O=h.layout,w=this.state.scrollOffset;c=Math.max(0,Math.min(c,v-1));var D=0;if(this._outerRef){var C=this._outerRef;O==="vertical"?D=C.scrollWidth>C.clientWidth?ft():0:D=C.scrollHeight>C.clientHeight?ft():0}this.scrollTo(o(this.props,c,f,w,this._instanceProps,D))},S.componentDidMount=function(){var c=this.props,f=c.direction,h=c.initialScrollOffset,v=c.layout;if(typeof h=="number"&&this._outerRef!=null){var O=this._outerRef;f==="horizontal"||v==="horizontal"?O.scrollLeft=h:O.scrollTop=h}this._callPropsCallbacks()},S.componentDidUpdate=function(){var c=this.props,f=c.direction,h=c.layout,v=this.state,O=v.scrollOffset,w=v.scrollUpdateWasRequested;if(w&&this._outerRef!=null){var D=this._outerRef;if(f==="horizontal"||h==="horizontal")if(f==="rtl")switch(ht()){case"negative":D.scrollLeft=-O;break;case"positive-ascending":D.scrollLeft=O;break;default:var C=D.clientWidth,E=D.scrollWidth;D.scrollLeft=E-C-O;break}else D.scrollLeft=O;else D.scrollTop=O}this._callPropsCallbacks()},S.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&dt(this._resetIsScrollingTimeoutId)},S.render=function(){var c=this.props,f=c.children,h=c.className,v=c.direction,O=c.height,w=c.innerRef,D=c.innerElementType,C=c.innerTagName,E=c.itemCount,N=c.itemData,A=c.itemKey,ie=A===void 0?ti:A,oe=c.layout,nn=c.outerElementType,on=c.outerTagName,an=c.style,sn=c.useIsScrolling,un=c.width,nt=this.state.isScrolling,Ee=v==="horizontal"||oe==="horizontal",ln=Ee?this._onScrollHorizontal:this._onScrollVertical,it=this._getRangeToRender(),cn=it[0],dn=it[1],ot=[];if(E>0)for(var J=cn;J<=dn;J++)ot.push(g.exports.createElement(f,{data:N,key:ie(J,N),index:J,isScrolling:sn?nt:void 0,style:this._getItemStyle(J)}));var at=n(this.props,this._instanceProps);return g.exports.createElement(nn||on||"div",{className:h,onScroll:ln,ref:this._outerRefSetter,style:On({position:"relative",height:O,width:un,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:v},an)},g.exports.createElement(D||C||"div",{children:ot,ref:w,style:{height:Ee?"100%":at,pointerEvents:nt?"none":void 0,width:Ee?at:"100%"}}))},S._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var c=this.props.itemCount;if(c>0){var f=this._getRangeToRender(),h=f[0],v=f[1],O=f[2],w=f[3];this._callOnItemsRendered(h,v,O,w)}}if(typeof this.props.onScroll=="function"){var D=this.state,C=D.scrollDirection,E=D.scrollOffset,N=D.scrollUpdateWasRequested;this._callOnScroll(C,E,N)}},S._getRangeToRender=function(){var c=this.props,f=c.itemCount,h=c.overscanCount,v=this.state,O=v.isScrolling,w=v.scrollDirection,D=v.scrollOffset;if(f===0)return[0,0,0,0];var C=a(this.props,D,this._instanceProps),E=s(this.props,C,D,this._instanceProps),N=!O||w==="backward"?Math.max(1,h):1,A=!O||w==="forward"?Math.max(1,h):1;return[Math.max(0,C-N),Math.max(0,Math.min(f-1,E+A)),C,E]},b}(g.exports.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var ni=function(e,r){var n=e.children,i=e.direction,o=e.height,a=e.layout,s=e.innerTagName,u=e.outerTagName,l=e.width,d=r.instance;{(s!=null||u!=null)&&he&&!he.has(d)&&(he.add(d),console.warn("The innerTagName and outerTagName props have been deprecated. Please use the innerElementType and outerElementType props instead."));var p=i==="horizontal"||a==="horizontal";switch(i){case"horizontal":case"vertical":fe&&!fe.has(d)&&(fe.add(d),console.warn('The direction prop should be either "ltr" (default) or "rtl". Please use the layout prop to specify "vertical" (default) or "horizontal" orientation.'));break;case"ltr":case"rtl":break;default:throw Error('An invalid "direction" prop has been specified. Value should be either "ltr" or "rtl". '+('"'+i+'" was specified.'))}switch(a){case"horizontal":case"vertical":break;default:throw Error('An invalid "layout" prop has been specified. Value should be either "horizontal" or "vertical". '+('"'+a+'" was specified.'))}if(n==null)throw Error('An invalid "children" prop has been specified. Value should be a React component. '+('"'+(n===null?"null":typeof n)+'" was specified.'));if(p&&typeof l!="number")throw Error('An invalid "width" prop has been specified. Horizontal lists must specify a number for width. '+('"'+(l===null?"null":typeof l)+'" was specified.'));if(!p&&typeof o!="number")throw Error('An invalid "height" prop has been specified. Vertical lists must specify a number for height. '+('"'+(o===null?"null":typeof o)+'" was specified.'))}},ii=ri({getItemOffset:function(e,r){var n=e.itemSize;return r*n},getItemSize:function(e,r){var n=e.itemSize;return n},getEstimatedTotalSize:function(e){var r=e.itemCount,n=e.itemSize;return n*r},getOffsetForIndexAndAlignment:function(e,r,n,i,o,a){var s=e.direction,u=e.height,l=e.itemCount,d=e.itemSize,p=e.layout,b=e.width,S=s==="horizontal"||p==="horizontal",I=S?b:u,c=Math.max(0,l*d-I),f=Math.min(c,r*d),h=Math.max(0,r*d-I+d+a);switch(n==="smart"&&(i>=h-I&&i<=f+I?n="auto":n="center"),n){case"start":return f;case"end":return h;case"center":{var v=Math.round(h+(f-h)/2);return v<Math.ceil(I/2)?0:v>c+Math.floor(I/2)?c:v}case"auto":default:return i>=h&&i<=f?i:i<h?h:f}},getStartIndexForOffset:function(e,r){var n=e.itemCount,i=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(r/i)))},getStopIndexForStartIndex:function(e,r,n){var i=e.direction,o=e.height,a=e.itemCount,s=e.itemSize,u=e.layout,l=e.width,d=i==="horizontal"||u==="horizontal",p=r*s,b=d?l:o,S=Math.ceil((b+n-p)/s);return Math.max(0,Math.min(a-1,r+S-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){var r=e.itemSize;if(typeof r!="number")throw Error('An invalid "itemSize" prop has been specified. Value should be a number. '+('"'+(r===null?"null":typeof r)+'" was specified.'))}});function oi(){var t,e;const r=P(),i=wn().cursor;if(!i||i.type!=="line")return null;const o=r.indent,a=r.rowHeight*i.index+((e=(t=r.props.padding)!==null&&t!==void 0?t:r.props.paddingTop)!==null&&e!==void 0?e:0),s=o*i.level,u=r.renderCursor;return y(u,{top:a,left:s,indent:o})}var ai=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const si=g.exports.forwardRef(function(e,r){const{children:n}=e,i=ai(e,["children"]),o=P();return F("div",Object.assign({ref:r},i,{onClick:a=>{a.currentTarget===a.target&&o.deselectAll()},children:[y(ui,{}),n]}))}),ui=()=>{const t=P();return y("div",{style:{height:t.visibleNodes.length*t.rowHeight,width:"100%",position:"absolute",left:"0",right:"0"},children:y(oi,{})})};var li=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const ci=g.exports.forwardRef(function(e,r){var n,i,o,a,{style:s}=e,u=li(e,["style"]);const l=P(),d=(i=(n=l.props.padding)!==null&&n!==void 0?n:l.props.paddingTop)!==null&&i!==void 0?i:0,p=(a=(o=l.props.padding)!==null&&o!==void 0?o:l.props.paddingBottom)!==null&&a!==void 0?a:0;return y("div",Object.assign({ref:r,style:Object.assign(Object.assign({},s),{height:`${parseFloat(s.height)+d+p}px`})},u))});var kr=g.exports.createContext({dragDropManager:void 0}),R;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(R||(R={}));function m(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(e===void 0)throw new Error("invariant requires an error message argument");if(!t){var o;if(e===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;o=new Error(e.replace(/%s/g,function(){return n[a++]})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}var Xe="dnd-core/INIT_COORDS",Ie="dnd-core/BEGIN_DRAG",Qe="dnd-core/PUBLISH_DRAG_SOURCE",De="dnd-core/HOVER",Te="dnd-core/DROP",we="dnd-core/END_DRAG";function gt(t,e){return{type:Xe,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}function ge(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ge=function(r){return typeof r}:ge=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ge(t)}function di(t,e,r){return e.split(".").reduce(function(n,i){return n&&n[i]?n[i]:r||null},t)}function fi(t,e){return t.filter(function(r){return r!==e})}function Rr(t){return ge(t)==="object"}function hi(t,e){var r=new Map,n=function(a){r.set(a,r.has(a)?r.get(a)+1:1)};t.forEach(n),e.forEach(n);var i=[];return r.forEach(function(o,a){o===1&&i.push(a)}),i}function gi(t,e){return t.filter(function(r){return e.indexOf(r)>-1})}var pi={type:Xe,payload:{clientOffset:null,sourceClientOffset:null}};function vi(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},i=n.publishSource,o=i===void 0?!0:i,a=n.clientOffset,s=n.getSourceClientOffset,u=t.getMonitor(),l=t.getRegistry();t.dispatch(gt(a)),yi(r,u,l);var d=Oi(r,u);if(d===null){t.dispatch(pi);return}var p=null;if(a){if(!s)throw new Error("getSourceClientOffset must be defined");mi(s),p=s(d)}t.dispatch(gt(a,p));var b=l.getSource(d),S=b.beginDrag(u,d);if(S!=null){bi(S),l.pinSource(d);var I=l.getSourceType(d);return{type:Ie,payload:{itemType:I,item:S,sourceId:d,clientOffset:a||null,sourceClientOffset:p||null,isSourcePublic:!!o}}}}}function yi(t,e,r){m(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(n){m(r.getSource(n),"Expected sourceIds to be registered.")})}function mi(t){m(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function bi(t){m(Rr(t),"Item must be an object.")}function Oi(t,e){for(var r=null,n=t.length-1;n>=0;n--)if(e.canDragSource(t[n])){r=t[n];break}return r}function Si(t){return function(){var r=t.getMonitor();if(r.isDragging())return{type:Qe}}}function We(t,e){return e===null?t===null:Array.isArray(t)?t.some(function(r){return r===e}):t===e}function Ii(t){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.clientOffset;Di(r);var o=r.slice(0),a=t.getMonitor(),s=t.getRegistry();Ti(o,a,s);var u=a.getItemType();return wi(o,s,u),Ci(o,a,s),{type:De,payload:{targetIds:o,clientOffset:i||null}}}}function Di(t){m(Array.isArray(t),"Expected targetIds to be an array.")}function Ti(t,e,r){m(e.isDragging(),"Cannot call hover while not dragging."),m(!e.didDrop(),"Cannot call hover after drop.");for(var n=0;n<t.length;n++){var i=t[n];m(t.lastIndexOf(i)===n,"Expected targetIds to be unique in the passed array.");var o=r.getTarget(i);m(o,"Expected targetIds to be registered.")}}function wi(t,e,r){for(var n=t.length-1;n>=0;n--){var i=t[n],o=e.getTargetType(i);We(o,r)||t.splice(n,1)}}function Ci(t,e,r){t.forEach(function(n){var i=r.getTarget(n);i.hover(e,n)})}function pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pt(Object(r),!0).forEach(function(n){Ei(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ei(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _i(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.getMonitor(),i=t.getRegistry();xi(n);var o=ki(n);o.forEach(function(a,s){var u=Ni(a,s,i,n),l={type:Te,payload:{dropResult:vt(vt({},r),u)}};t.dispatch(l)})}}function xi(t){m(t.isDragging(),"Cannot call drop while not dragging."),m(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Ni(t,e,r,n){var i=r.getTarget(t),o=i?i.drop(n,t):void 0;return Pi(o),typeof o>"u"&&(o=e===0?{}:n.getDropResult()),o}function Pi(t){m(typeof t>"u"||Rr(t),"Drop result must either be an object or undefined.")}function ki(t){var e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function Ri(t){return function(){var r=t.getMonitor(),n=t.getRegistry();Ai(r);var i=r.getSourceId();if(i!=null){var o=n.getSource(i,!0);o.endDrag(r,i),n.unpinSource()}return{type:we}}}function Ai(t){m(t.isDragging(),"Cannot call endDrag while not dragging.")}function Mi(t){return{beginDrag:vi(t),publishDragSource:Si(t),hover:Ii(t),drop:_i(t),endDrag:Ri(t)}}function $i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Li(t,e,r){return e&&yt(t.prototype,e),r&&yt(t,r),t}function Z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ji=function(){function t(e,r){var n=this;$i(this,t),Z(this,"store",void 0),Z(this,"monitor",void 0),Z(this,"backend",void 0),Z(this,"isSetUp",!1),Z(this,"handleRefCountChange",function(){var i=n.store.getState().refCount>0;n.backend&&(i&&!n.isSetUp?(n.backend.setup(),n.isSetUp=!0):!i&&n.isSetUp&&(n.backend.teardown(),n.isSetUp=!1))}),this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}return Li(t,[{key:"receiveBackend",value:function(r){this.backend=r}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var r=this,n=this.store.dispatch;function i(a){return function(){for(var s=arguments.length,u=new Array(s),l=0;l<s;l++)u[l]=arguments[l];var d=a.apply(r,u);typeof d<"u"&&n(d)}}var o=Mi(this);return Object.keys(o).reduce(function(a,s){var u=o[s];return a[s]=i(u),a},{})}},{key:"dispatch",value:function(r){this.store.dispatch(r)}}]),t}(),Hi=function(e,r){return e===r};function Fi(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function Ui(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Hi;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!r(t[n],e[n]))return!1;return!0}function mt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mt(Object(r),!0).forEach(function(n){zi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mt(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ot={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Wi(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ot,e=arguments.length>1?arguments[1]:void 0,r=e.payload;switch(e.type){case Xe:case Ie:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case De:return Fi(t.clientOffset,r.clientOffset)?t:bt(bt({},t),{},{clientOffset:r.clientOffset});case we:case Te:return Ot;default:return t}}var Je="dnd-core/ADD_SOURCE",Ze="dnd-core/ADD_TARGET",et="dnd-core/REMOVE_SOURCE",Ce="dnd-core/REMOVE_TARGET";function Bi(t){return{type:Je,payload:{sourceId:t}}}function Vi(t){return{type:Ze,payload:{targetId:t}}}function qi(t){return{type:et,payload:{sourceId:t}}}function Gi(t){return{type:Ce,payload:{targetId:t}}}function St(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?St(Object(r),!0).forEach(function(n){Ki(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):St(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ki(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Yi={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Xi(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Yi,e=arguments.length>1?arguments[1]:void 0,r=e.payload;switch(e.type){case Ie:return k(k({},t),{},{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Qe:return k(k({},t),{},{isSourcePublic:!0});case De:return k(k({},t),{},{targetIds:r.targetIds});case Ce:return t.targetIds.indexOf(r.targetId)===-1?t:k(k({},t),{},{targetIds:fi(t.targetIds,r.targetId)});case Te:return k(k({},t),{},{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case we:return k(k({},t),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Qi(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case Je:case Ze:return t+1;case et:case Ce:return t-1;default:return t}}var Se=[],tt=[];Se.__IS_NONE__=!0;tt.__IS_ALL__=!0;function Ji(t,e){if(t===Se)return!1;if(t===tt||typeof e>"u")return!0;var r=gi(e,t);return r.length>0}function Zi(){var t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:break;case Je:case Ze:case Ce:case et:return Se;case Ie:case Qe:case we:case Te:default:return tt}var e=t.payload,r=e.targetIds,n=r===void 0?[]:r,i=e.prevTargetIds,o=i===void 0?[]:i,a=hi(n,o),s=a.length>0||!Ui(n,o);if(!s)return Se;var u=o[o.length-1],l=n[n.length-1];return u!==l&&(u&&a.push(u),l&&a.push(l)),a}function eo(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return t+1}function It(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?It(Object(r),!0).forEach(function(n){to(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function to(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ro(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Zi(t.dirtyHandlerIds,{type:e.type,payload:Dt(Dt({},e.payload),{},{prevTargetIds:di(t,"dragOperation.targetIds",[])})}),dragOffset:Wi(t.dragOffset,e),refCount:Qi(t.refCount,e),dragOperation:Xi(t.dragOperation,e),stateId:eo(t.stateId)}}function no(t,e){return{x:t.x+e.x,y:t.y+e.y}}function Ar(t,e){return{x:t.x-e.x,y:t.y-e.y}}function io(t){var e=t.clientOffset,r=t.initialClientOffset,n=t.initialSourceClientOffset;return!e||!r||!n?null:Ar(no(e,n),r)}function oo(t){var e=t.clientOffset,r=t.initialClientOffset;return!e||!r?null:Ar(e,r)}function ao(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function so(t,e,r){return e&&Tt(t.prototype,e),r&&Tt(t,r),t}function wt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var uo=function(){function t(e,r){ao(this,t),wt(this,"store",void 0),wt(this,"registry",void 0),this.store=e,this.registry=r}return so(t,[{key:"subscribeToStateChange",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},o=i.handlerIds;m(typeof r=="function","listener must be a function."),m(typeof o>"u"||Array.isArray(o),"handlerIds, when specified, must be an array of strings.");var a=this.store.getState().stateId,s=function(){var l=n.store.getState(),d=l.stateId;try{var p=d===a||d===a+1&&!Ji(l.dirtyHandlerIds,o);p||r()}finally{a=d}};return this.store.subscribe(s)}},{key:"subscribeToOffsetChange",value:function(r){var n=this;m(typeof r=="function","listener must be a function.");var i=this.store.getState().dragOffset,o=function(){var s=n.store.getState().dragOffset;s!==i&&(i=s,r())};return this.store.subscribe(o)}},{key:"canDragSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r);return m(n,"Expected to find a valid source. sourceId=".concat(r)),this.isDragging()?!1:n.canDrag(this,r)}},{key:"canDropOnTarget",value:function(r){if(!r)return!1;var n=this.registry.getTarget(r);if(m(n,"Expected to find a valid target. targetId=".concat(r)),!this.isDragging()||this.didDrop())return!1;var i=this.registry.getTargetType(r),o=this.getItemType();return We(i,o)&&n.canDrop(this,r)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r,!0);if(m(n,"Expected to find a valid source. sourceId=".concat(r)),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(r),o=this.getItemType();return i!==o?!1:n.isDragging(this,r)}},{key:"isOverTarget",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!r)return!1;var i=n.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(r),a=this.getItemType();if(a&&!We(o,a))return!1;var s=this.getTargetIds();if(!s.length)return!1;var u=s.indexOf(r);return i?u===s.length-1:u>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return io(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return oo(this.store.getState().dragOffset)}}]),t}(),lo=0;function co(){return lo++}function pe(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pe=function(r){return typeof r}:pe=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pe(t)}function fo(t){m(typeof t.canDrag=="function","Expected canDrag to be a function."),m(typeof t.beginDrag=="function","Expected beginDrag to be a function."),m(typeof t.endDrag=="function","Expected endDrag to be a function.")}function ho(t){m(typeof t.canDrop=="function","Expected canDrop to be a function."),m(typeof t.hover=="function","Expected hover to be a function."),m(typeof t.drop=="function","Expected beginDrag to be a function.")}function Be(t,e){if(e&&Array.isArray(t)){t.forEach(function(r){return Be(r,!1)});return}m(typeof t=="string"||pe(t)==="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const Ct=typeof global<"u"?global:self,Mr=Ct.MutationObserver||Ct.WebKitMutationObserver;function $r(t){return function(){const r=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(r),clearInterval(n),t()}}}function go(t){let e=1;const r=new Mr(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){e=-e,n.data=e}}const po=typeof Mr=="function"?go:$r;class vo{enqueueTask(e){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const r=this.index;if(this.index++,e[r].call(),this.index>this.capacity){for(let n=0,i=e.length-this.index;n<i;n++)e[n]=e[n+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=po(this.flush),this.requestErrorThrow=$r(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class yo{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}class mo{create(e){const r=this.freeTasks,n=r.length?r.pop():new yo(this.onError,i=>r[r.length]=i);return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}const Lr=new vo,bo=new mo(Lr.registerPendingError);function Oo(t){Lr.enqueueTask(bo.create(t))}function So(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Io(t,e,r){return e&&Et(t.prototype,e),r&&Et(t,r),t}function G(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Do(t,e){return Eo(t)||Co(t,e)||wo(t,e)||To()}function To(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wo(t,e){if(!!t){if(typeof t=="string")return _t(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _t(t,e)}}function _t(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Co(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function Eo(t){if(Array.isArray(t))return t}function _o(t){var e=co().toString();switch(t){case R.SOURCE:return"S".concat(e);case R.TARGET:return"T".concat(e);default:throw new Error("Unknown Handler Role: ".concat(t))}}function xt(t){switch(t[0]){case"S":return R.SOURCE;case"T":return R.TARGET;default:m(!1,"Cannot parse handler ID: ".concat(t))}}function Nt(t,e){var r=t.entries(),n=!1;do{var i=r.next(),o=i.done,a=Do(i.value,2),s=a[1];if(s===e)return!0;n=!!o}while(!n);return!1}var xo=function(){function t(e){So(this,t),G(this,"types",new Map),G(this,"dragSources",new Map),G(this,"dropTargets",new Map),G(this,"pinnedSourceId",null),G(this,"pinnedSource",null),G(this,"store",void 0),this.store=e}return Io(t,[{key:"addSource",value:function(r,n){Be(r),fo(n);var i=this.addHandler(R.SOURCE,r,n);return this.store.dispatch(Bi(i)),i}},{key:"addTarget",value:function(r,n){Be(r,!0),ho(n);var i=this.addHandler(R.TARGET,r,n);return this.store.dispatch(Vi(i)),i}},{key:"containsHandler",value:function(r){return Nt(this.dragSources,r)||Nt(this.dropTargets,r)}},{key:"getSource",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;m(this.isSourceId(r),"Expected a valid source ID.");var i=n&&r===this.pinnedSourceId,o=i?this.pinnedSource:this.dragSources.get(r);return o}},{key:"getTarget",value:function(r){return m(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}},{key:"getSourceType",value:function(r){return m(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}},{key:"getTargetType",value:function(r){return m(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}},{key:"isSourceId",value:function(r){var n=xt(r);return n===R.SOURCE}},{key:"isTargetId",value:function(r){var n=xt(r);return n===R.TARGET}},{key:"removeSource",value:function(r){var n=this;m(this.getSource(r),"Expected an existing source."),this.store.dispatch(qi(r)),Oo(function(){n.dragSources.delete(r),n.types.delete(r)})}},{key:"removeTarget",value:function(r){m(this.getTarget(r),"Expected an existing target."),this.store.dispatch(Gi(r)),this.dropTargets.delete(r),this.types.delete(r)}},{key:"pinSource",value:function(r){var n=this.getSource(r);m(n,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=n}},{key:"unpinSource",value:function(){m(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(r,n,i){var o=_o(r);return this.types.set(o,n),r===R.SOURCE?this.dragSources.set(o,i):r===R.TARGET&&this.dropTargets.set(o,i),o}}]),t}();function No(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=Po(n),o=new uo(i,new xo(i)),a=new ji(i,o),s=t(a,e,r);return a.receiveBackend(s),a}function Po(t){var e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return hn(ro,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}var ko=["children"];function Ro(t,e){return Lo(t)||$o(t,e)||Mo(t,e)||Ao()}function Ao(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mo(t,e){if(!!t){if(typeof t=="string")return Pt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pt(t,e)}}function Pt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $o(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function Lo(t){if(Array.isArray(t))return t}function jo(t,e){if(t==null)return{};var r=Ho(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}function Ho(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var kt=0,ve=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),Fo=g.exports.memo(function(e){var r=e.children,n=jo(e,ko),i=Uo(n),o=Ro(i,2),a=o[0],s=o[1];return g.exports.useEffect(function(){if(s){var u=jr();return++kt,function(){--kt===0&&(u[ve]=null)}}},[]),y(kr.Provider,Object.assign({value:a},{children:r}),void 0)});function Uo(t){if("manager"in t){var e={dragDropManager:t.manager};return[e,!1]}var r=zo(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[r,n]}function zo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jr(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=e;return i[ve]||(i[ve]={dragDropManager:No(t,e,r,n)}),i[ve]}function jr(){return typeof global<"u"?global:window}function Wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bo(t,e,r){return e&&Rt(t.prototype,e),r&&Rt(t,r),t}function At(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Pe=!1,ke=!1,Vo=function(){function t(e){Wo(this,t),At(this,"internalMonitor",void 0),At(this,"sourceId",null),this.internalMonitor=e.getMonitor()}return Bo(t,[{key:"receiveHandlerId",value:function(r){this.sourceId=r}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){m(!Pe,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Pe=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Pe=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;m(!ke,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ke=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{ke=!1}}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"isDraggingSource",value:function(r){return this.internalMonitor.isDraggingSource(r)}},{key:"isOverTarget",value:function(r,n){return this.internalMonitor.isOverTarget(r,n)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(r){return this.internalMonitor.subscribeToOffsetChange(r)}},{key:"canDragSource",value:function(r){return this.internalMonitor.canDragSource(r)}},{key:"canDropOnTarget",value:function(r){return this.internalMonitor.canDropOnTarget(r)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),t}();function qo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Go(t,e,r){return e&&Mt(t.prototype,e),r&&Mt(t,r),t}function $t(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Re=!1,Ko=function(){function t(e){qo(this,t),$t(this,"internalMonitor",void 0),$t(this,"targetId",null),this.internalMonitor=e.getMonitor()}return Go(t,[{key:"receiveHandlerId",value:function(r){this.targetId=r}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;m(!Re,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Re=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Re=!1}}},{key:"isOver",value:function(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),t}();function Yo(t){if(typeof t.type!="string"){var e=t.type.displayName||t.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(e," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function Xo(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!g.exports.isValidElement(e)){var n=e;return t(n,r),n}var i=e;Yo(i);var o=r?function(a){return t(a,r)}:t;return Qo(i,o)}}function Hr(t){var e={};return Object.keys(t).forEach(function(r){var n=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{var i=Xo(n);e[r]=function(){return i}}}),e}function Lt(t,e){typeof t=="function"?t(e):t.current=e}function Qo(t,e){var r=t.ref;return m(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?g.exports.cloneElement(t,{ref:function(i){Lt(r,i),Lt(e,i)}}):g.exports.cloneElement(t,{ref:e})}function ye(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ye=function(r){return typeof r}:ye=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ye(t)}function Ve(t){return t!==null&&ye(t)==="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function qe(t,e,r,n){var i=r?r.call(n,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;var o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(e),u=0;u<o.length;u++){var l=o[u];if(!s(l))return!1;var d=t[l],p=e[l];if(i=r?r.call(n,d,p,l):void 0,i===!1||i===void 0&&d!==p)return!1}return!0}function Jo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zo(t,e,r){return e&&jt(t.prototype,e),r&&jt(t,r),t}function x(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ea=function(){function t(e){var r=this;Jo(this,t),x(this,"hooks",Hr({dragSource:function(i,o){r.clearDragSource(),r.dragSourceOptions=o||null,Ve(i)?r.dragSourceRef=i:r.dragSourceNode=i,r.reconnectDragSource()},dragPreview:function(i,o){r.clearDragPreview(),r.dragPreviewOptions=o||null,Ve(i)?r.dragPreviewRef=i:r.dragPreviewNode=i,r.reconnectDragPreview()}})),x(this,"handlerId",null),x(this,"dragSourceRef",null),x(this,"dragSourceNode",void 0),x(this,"dragSourceOptionsInternal",null),x(this,"dragSourceUnsubscribe",void 0),x(this,"dragPreviewRef",null),x(this,"dragPreviewNode",void 0),x(this,"dragPreviewOptionsInternal",null),x(this,"dragPreviewUnsubscribe",void 0),x(this,"lastConnectedHandlerId",null),x(this,"lastConnectedDragSource",null),x(this,"lastConnectedDragSourceOptions",null),x(this,"lastConnectedDragPreview",null),x(this,"lastConnectedDragPreviewOptions",null),x(this,"backend",void 0),this.backend=e}return Zo(t,[{key:"receiveHandlerId",value:function(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(r){this.dragSourceOptionsInternal=r}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(r){this.dragPreviewOptionsInternal=r}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var r=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(n&&this.disconnectDragSource(),!!this.handlerId){if(!r){this.lastConnectedDragSource=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var r=this.dragPreview,n=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!qe(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!qe(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),t}();function ta(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ra(t,e,r){return e&&Ht(t.prototype,e),r&&Ht(t,r),t}function L(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var na=function(){function t(e){var r=this;ta(this,t),L(this,"hooks",Hr({dropTarget:function(i,o){r.clearDropTarget(),r.dropTargetOptions=o,Ve(i)?r.dropTargetRef=i:r.dropTargetNode=i,r.reconnect()}})),L(this,"handlerId",null),L(this,"dropTargetRef",null),L(this,"dropTargetNode",void 0),L(this,"dropTargetOptionsInternal",null),L(this,"unsubscribeDropTarget",void 0),L(this,"lastConnectedHandlerId",null),L(this,"lastConnectedDropTarget",null),L(this,"lastConnectedDropTargetOptions",null),L(this,"backend",void 0),this.backend=e}return ra(t,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();var n=this.dropTarget;if(!!this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(r){this.dropTargetOptionsInternal=r}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!qe(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),t}();function ia(t,e,r){var n=r.getRegistry(),i=n.addTarget(t,e);return[i,function(){return n.removeTarget(i)}]}function oa(t,e,r){var n=r.getRegistry(),i=n.addSource(t,e);return[i,function(){return n.removeSource(i)}]}var W=typeof window<"u"?g.exports.useLayoutEffect:g.exports.useEffect;function me(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?me=function(r){return typeof r}:me=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},me(t)}function aa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function sa(t,e,r){return e&&Ft(t.prototype,e),r&&Ft(t,r),t}function Ae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ua=function(){function t(e,r,n){aa(this,t),Ae(this,"spec",void 0),Ae(this,"monitor",void 0),Ae(this,"connector",void 0),this.spec=e,this.monitor=r,this.connector=n}return sa(t,[{key:"beginDrag",value:function(){var r,n=this.spec,i=this.monitor,o=null;return me(n.item)==="object"?o=n.item:typeof n.item=="function"?o=n.item(i):o={},(r=o)!==null&&r!==void 0?r:null}},{key:"canDrag",value:function(){var r=this.spec,n=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(n):!0}},{key:"isDragging",value:function(r,n){var i=this.spec,o=this.monitor,a=i.isDragging;return a?a(o):n===r.getSourceId()}},{key:"endDrag",value:function(){var r=this.spec,n=this.monitor,i=this.connector,o=r.end;o&&o(n.getItem(),n),i.reconnect()}}]),t}();function la(t,e,r){var n=g.exports.useMemo(function(){return new ua(t,e,r)},[e,r]);return g.exports.useEffect(function(){n.spec=t},[t]),n}function B(){var t=g.exports.useContext(kr),e=t.dragDropManager;return m(e!=null,"Expected drag drop context"),e}function ca(t){return g.exports.useMemo(function(){var e=t.type;return m(e!=null,"spec.type must be defined"),e},[t])}function da(t,e){return pa(t)||ga(t,e)||ha(t,e)||fa()}function fa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ha(t,e){if(!!t){if(typeof t=="string")return Ut(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ut(t,e)}}function Ut(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ga(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function pa(t){if(Array.isArray(t))return t}function va(t,e,r){var n=B(),i=la(t,e,r),o=ca(t);W(function(){if(o!=null){var s=oa(o,i,n),u=da(s,2),l=u[0],d=u[1];return e.receiveHandlerId(l),r.receiveHandlerId(l),d}},[n,e,r,i,o])}function ya(t){return Sa(t)||Oa(t)||ba(t)||ma()}function ma(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ba(t,e){if(!!t){if(typeof t=="string")return Ge(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ge(t,e)}}function Oa(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sa(t){if(Array.isArray(t))return Ge(t)}function Ge(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fr(t,e){var r=ya(e||[]);return e==null&&typeof t!="function"&&r.push(t),g.exports.useMemo(function(){return typeof t=="function"?t():t},r)}function Ia(){var t=B();return g.exports.useMemo(function(){return new Vo(t)},[t])}function Da(t,e){var r=B(),n=g.exports.useMemo(function(){return new ea(r.getBackend())},[r]);return W(function(){return n.dragSourceOptions=t||null,n.reconnect(),function(){return n.disconnectDragSource()}},[n,t]),W(function(){return n.dragPreviewOptions=e||null,n.reconnect(),function(){return n.disconnectDragPreview()}},[n,e]),n}var Ta=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var a=o[i];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r};function wa(t,e){return xa(t)||_a(t,e)||Ea(t,e)||Ca()}function Ca(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ea(t,e){if(!!t){if(typeof t=="string")return zt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zt(t,e)}}function zt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _a(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function xa(t){if(Array.isArray(t))return t}function Ur(t,e,r){var n=g.exports.useState(function(){return e(t)}),i=wa(n,2),o=i[0],a=i[1],s=g.exports.useCallback(function(){var u=e(t);Ta(o,u)||(a(u),r&&r())},[o,t,r]);return W(s),[o,s]}function Na(t,e){return Aa(t)||Ra(t,e)||ka(t,e)||Pa()}function Pa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ka(t,e){if(!!t){if(typeof t=="string")return Wt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wt(t,e)}}function Wt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ra(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function Aa(t){if(Array.isArray(t))return t}function Ma(t,e,r){var n=Ur(t,e,r),i=Na(n,2),o=i[0],a=i[1];return W(function(){var u=t.getHandlerId();if(u!=null)return t.subscribeToStateChange(a,{handlerIds:[u]})},[t,a]),o}function zr(t,e,r){return Ma(e,t||function(){return{}},function(){return r.reconnect()})}function $a(t){return g.exports.useMemo(function(){return t.hooks.dragSource()},[t])}function La(t){return g.exports.useMemo(function(){return t.hooks.dragPreview()},[t])}function ja(t,e){var r=Fr(t,e);m(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var n=Ia(),i=Da(r.options,r.previewOptions);return va(r,n,i),[zr(r.collect,n,i),$a(i),La(i)]}function Ha(t){var e=t.accept;return g.exports.useMemo(function(){return m(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]},[e])}function Fa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ua(t,e,r){return e&&Bt(t.prototype,e),r&&Bt(t,r),t}function Vt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var za=function(){function t(e,r){Fa(this,t),Vt(this,"spec",void 0),Vt(this,"monitor",void 0),this.spec=e,this.monitor=r}return Ua(t,[{key:"canDrop",value:function(){var r=this.spec,n=this.monitor;return r.canDrop?r.canDrop(n.getItem(),n):!0}},{key:"hover",value:function(){var r=this.spec,n=this.monitor;r.hover&&r.hover(n.getItem(),n)}},{key:"drop",value:function(){var r=this.spec,n=this.monitor;if(r.drop)return r.drop(n.getItem(),n)}}]),t}();function Wa(t,e){var r=g.exports.useMemo(function(){return new za(t,e)},[e]);return g.exports.useEffect(function(){r.spec=t},[t]),r}function Ba(t,e){return Ka(t)||Ga(t,e)||qa(t,e)||Va()}function Va(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qa(t,e){if(!!t){if(typeof t=="string")return qt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qt(t,e)}}function qt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ga(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function Ka(t){if(Array.isArray(t))return t}function Ya(t,e,r){var n=B(),i=Wa(t,e),o=Ha(t);W(function(){var s=ia(o,i,n),u=Ba(s,2),l=u[0],d=u[1];return e.receiveHandlerId(l),r.receiveHandlerId(l),d},[n,e,i,r,o.map(function(a){return a.toString()}).join("|")])}function Xa(){var t=B();return g.exports.useMemo(function(){return new Ko(t)},[t])}function Qa(t){var e=B(),r=g.exports.useMemo(function(){return new na(e.getBackend())},[e]);return W(function(){return r.dropTargetOptions=t||null,r.reconnect(),function(){return r.disconnectDropTarget()}},[t]),r}function Ja(t){return g.exports.useMemo(function(){return t.hooks.dropTarget()},[t])}function Wr(t,e){var r=Fr(t,e),n=Xa(),i=Qa(r.options);return Ya(r,n,i),[zr(r.collect,n,i),Ja(i)]}function Za(t,e){return ns(t)||rs(t,e)||ts(t,e)||es()}function es(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ts(t,e){if(!!t){if(typeof t=="string")return Gt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gt(t,e)}}function Gt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rs(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,a,s;try{for(r=r.call(t);!(i=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));i=!0);}catch(u){o=!0,s=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}return n}}function ns(t){if(Array.isArray(t))return t}function is(t){var e=B(),r=e.getMonitor(),n=Ur(r,t),i=Za(n,2),o=i[0],a=i[1];return g.exports.useEffect(function(){return r.subscribeToOffsetChange(a)}),g.exports.useEffect(function(){return r.subscribeToStateChange(a)}),o}function Br(t){var e=null,r=function(){return e==null&&(e=t()),e};return r}function os(t,e){return t.filter(function(r){return r!==e})}function as(t,e){var r=new Set,n=function(a){return r.add(a)};t.forEach(n),e.forEach(n);var i=[];return r.forEach(function(o){return i.push(o)}),i}function ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function us(t,e,r){return e&&Kt(t.prototype,e),r&&Kt(t,r),t}function Yt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ls=function(){function t(e){ss(this,t),Yt(this,"entered",[]),Yt(this,"isNodeInDocument",void 0),this.isNodeInDocument=e}return us(t,[{key:"enter",value:function(r){var n=this,i=this.entered.length,o=function(s){return n.isNodeInDocument(s)&&(!s.contains||s.contains(r))};return this.entered=as(this.entered.filter(o),[r]),i===0&&this.entered.length>0}},{key:"leave",value:function(r){var n=this.entered.length;return this.entered=os(this.entered.filter(this.isNodeInDocument),r),n>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),t}(),cs=Br(function(){return/firefox/i.test(navigator.userAgent)}),Vr=Br(function(){return Boolean(window.safari)});function ds(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fs(t,e,r){return e&&Xt(t.prototype,e),r&&Xt(t,r),t}function ee(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Qt=function(){function t(e,r){ds(this,t),ee(this,"xs",void 0),ee(this,"ys",void 0),ee(this,"c1s",void 0),ee(this,"c2s",void 0),ee(this,"c3s",void 0);for(var n=e.length,i=[],o=0;o<n;o++)i.push(o);i.sort(function(N,A){return e[N]<e[A]?-1:1});for(var a=[],s=[],u,l,d=0;d<n-1;d++)u=e[d+1]-e[d],l=r[d+1]-r[d],a.push(u),s.push(l/u);for(var p=[s[0]],b=0;b<a.length-1;b++){var S=s[b],I=s[b+1];if(S*I<=0)p.push(0);else{u=a[b];var c=a[b+1],f=u+c;p.push(3*f/((f+c)/S+(f+u)/I))}}p.push(s[s.length-1]);for(var h=[],v=[],O,w=0;w<p.length-1;w++){O=s[w];var D=p[w],C=1/a[w],E=D+p[w+1]-O-O;h.push((O-D-E)*C),v.push(E*C*C)}this.xs=e,this.ys=r,this.c1s=p,this.c2s=h,this.c3s=v}return fs(t,[{key:"interpolate",value:function(r){var n=this.xs,i=this.ys,o=this.c1s,a=this.c2s,s=this.c3s,u=n.length-1;if(r===n[u])return i[u];for(var l=0,d=s.length-1,p;l<=d;){p=Math.floor(.5*(l+d));var b=n[p];if(b<r)l=p+1;else if(b>r)d=p-1;else return i[p]}u=Math.max(0,d);var S=r-n[u],I=S*S;return i[u]+o[u]*S+a[u]*I+s[u]*S*I}}]),t}(),hs=1;function qr(t){var e=t.nodeType===hs?t:t.parentElement;if(!e)return null;var r=e.getBoundingClientRect(),n=r.top,i=r.left;return{x:i,y:n}}function se(t){return{x:t.clientX,y:t.clientY}}function gs(t){var e;return t.nodeName==="IMG"&&(cs()||!((e=document.documentElement)!==null&&e!==void 0&&e.contains(t)))}function ps(t,e,r,n){var i=t?e.width:r,o=t?e.height:n;return Vr()&&t&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function vs(t,e,r,n,i){var o=gs(e),a=o?t:e,s=qr(a),u={x:r.x-s.x,y:r.y-s.y},l=t.offsetWidth,d=t.offsetHeight,p=n.anchorX,b=n.anchorY,S=ps(o,e,l,d),I=S.dragPreviewWidth,c=S.dragPreviewHeight,f=function(){var E=new Qt([0,.5,1],[u.y,u.y/d*c,u.y+c-d]),N=E.interpolate(b);return Vr()&&o&&(N+=(window.devicePixelRatio-1)*c),N},h=function(){var E=new Qt([0,.5,1],[u.x,u.x/l*I,u.x+I-l]);return E.interpolate(p)},v=i.offsetX,O=i.offsetY,w=v===0||v,D=O===0||O;return{x:w?v:h(),y:D?O:f()}}var Gr="__NATIVE_FILE__",Kr="__NATIVE_URL__",Yr="__NATIVE_TEXT__",Xr="__NATIVE_HTML__";const Jt=Object.freeze(Object.defineProperty({__proto__:null,FILE:Gr,URL:Kr,TEXT:Yr,HTML:Xr},Symbol.toStringTag,{value:"Module"}));function Me(t,e,r){var n=e.reduce(function(i,o){return i||t.getData(o)},"");return n!=null?n:r}var K;function ue(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ke=(K={},ue(K,Gr,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items},dataTransfer:function(e){return e}},matchesTypes:["Files"]}),ue(K,Xr,{exposeProperties:{html:function(e,r){return Me(e,r,"")},dataTransfer:function(e){return e}},matchesTypes:["Html","text/html"]}),ue(K,Kr,{exposeProperties:{urls:function(e,r){return Me(e,r,"").split(`
`)},dataTransfer:function(e){return e}},matchesTypes:["Url","text/uri-list"]}),ue(K,Yr,{exposeProperties:{text:function(e,r){return Me(e,r,"")},dataTransfer:function(e){return e}},matchesTypes:["Text","text/plain"]}),K);function ys(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ms(t,e,r){return e&&Zt(t.prototype,e),r&&Zt(t,r),t}function er(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var bs=function(){function t(e){ys(this,t),er(this,"item",void 0),er(this,"config",void 0),this.config=e,this.item={},this.initializeExposedProperties()}return ms(t,[{key:"initializeExposedProperties",value:function(){var r=this;Object.keys(this.config.exposeProperties).forEach(function(n){Object.defineProperty(r.item,n,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(n,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(r){var n=this;if(r){var i={};Object.keys(this.config.exposeProperties).forEach(function(o){i[o]={value:n.config.exposeProperties[o](r,n.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(r,n){return n===r.getSourceId()}},{key:"endDrag",value:function(){}}]),t}();function Os(t,e){var r=new bs(Ke[t]);return r.loadDataTransfer(e),r}function $e(t){if(!t)return null;var e=Array.prototype.slice.call(t.types||[]);return Object.keys(Ke).filter(function(r){var n=Ke[r].matchesTypes;return n.some(function(i){return e.indexOf(i)>-1})})[0]||null}function Ss(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Is(t,e,r){return e&&tr(t.prototype,e),r&&tr(t,r),t}function Le(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ds=function(){function t(e,r){Ss(this,t),Le(this,"ownerDocument",null),Le(this,"globalContext",void 0),Le(this,"optionsArgs",void 0),this.globalContext=e,this.optionsArgs=r}return Is(t,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}},{key:"document",get:function(){var r;return(r=this.globalContext)!==null&&r!==void 0&&r.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var r;return((r=this.optionsArgs)===null||r===void 0?void 0:r.rootElement)||this.window}}]),t}();function rr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rr(Object(r),!0).forEach(function(n){T(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rr(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ts(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ir(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ws(t,e,r){return e&&ir(t.prototype,e),r&&ir(t,r),t}function T(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Cs=function(){function t(e,r,n){var i=this;Ts(this,t),T(this,"options",void 0),T(this,"actions",void 0),T(this,"monitor",void 0),T(this,"registry",void 0),T(this,"enterLeaveCounter",void 0),T(this,"sourcePreviewNodes",new Map),T(this,"sourcePreviewNodeOptions",new Map),T(this,"sourceNodes",new Map),T(this,"sourceNodeOptions",new Map),T(this,"dragStartSourceIds",null),T(this,"dropTargetIds",[]),T(this,"dragEnterTargetIds",[]),T(this,"currentNativeSource",null),T(this,"currentNativeHandle",null),T(this,"currentDragSourceNode",null),T(this,"altKeyPressed",!1),T(this,"mouseMoveTimeoutTimer",null),T(this,"asyncEndDragFrameId",null),T(this,"dragOverTargetIds",null),T(this,"lastClientOffset",null),T(this,"hoverRafId",null),T(this,"getSourceClientOffset",function(o){var a=i.sourceNodes.get(o);return a&&qr(a)||null}),T(this,"endDragNativeItem",function(){!i.isDraggingNativeItem()||(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)}),T(this,"isNodeInDocument",function(o){return Boolean(o&&i.document&&i.document.body&&i.document.body.contains(o))}),T(this,"endDragIfSourceWasRemovedFromDOM",function(){var o=i.currentDragSourceNode;o==null||i.isNodeInDocument(o)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),T(this,"handleTopDragStartCapture",function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]}),T(this,"handleTopDragStart",function(o){if(!o.defaultPrevented){var a=i.dragStartSourceIds;i.dragStartSourceIds=null;var s=se(o);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:s});var u=o.dataTransfer,l=$e(u);if(i.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){var d=i.monitor.getSourceId(),p=i.sourceNodes.get(d),b=i.sourcePreviewNodes.get(d)||p;if(b){var S=i.getCurrentSourcePreviewNodeOptions(),I=S.anchorX,c=S.anchorY,f=S.offsetX,h=S.offsetY,v={anchorX:I,anchorY:c},O={offsetX:f,offsetY:h},w=vs(p,b,s,v,O);u.setDragImage(b,w.x,w.y)}}try{u==null||u.setData("application/json",{})}catch{}i.setCurrentDragSourceNode(o.target);var D=i.getCurrentSourcePreviewNodeOptions(),C=D.captureDraggingState;C?i.actions.publishDragSource():setTimeout(function(){return i.actions.publishDragSource()},0)}else if(l)i.beginDragNativeItem(l);else{if(u&&!u.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}}}),T(this,"handleTopDragEndCapture",function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),T(this,"handleTopDragEnterCapture",function(o){i.dragEnterTargetIds=[];var a=i.enterLeaveCounter.enter(o.target);if(!(!a||i.monitor.isDragging())){var s=o.dataTransfer,u=$e(s);u&&i.beginDragNativeItem(u,s)}}),T(this,"handleTopDragEnter",function(o){var a=i.dragEnterTargetIds;if(i.dragEnterTargetIds=[],!!i.monitor.isDragging()){i.altKeyPressed=o.altKey,a.length>0&&i.actions.hover(a,{clientOffset:se(o)});var s=a.some(function(u){return i.monitor.canDropOnTarget(u)});s&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect()))}}),T(this,"handleTopDragOverCapture",function(){i.dragOverTargetIds=[]}),T(this,"handleTopDragOver",function(o){var a=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}i.altKeyPressed=o.altKey,i.lastClientOffset=se(o),i.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(i.hoverRafId=requestAnimationFrame(function(){i.monitor.isDragging()&&i.actions.hover(a||[],{clientOffset:i.lastClientOffset}),i.hoverRafId=null}));var s=(a||[]).some(function(u){return i.monitor.canDropOnTarget(u)});s?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))}),T(this,"handleTopDragLeaveCapture",function(o){i.isDraggingNativeItem()&&o.preventDefault();var a=i.enterLeaveCounter.leave(o.target);!a||i.isDraggingNativeItem()&&setTimeout(function(){return i.endDragNativeItem()},0)}),T(this,"handleTopDropCapture",function(o){if(i.dropTargetIds=[],i.isDraggingNativeItem()){var a;o.preventDefault(),(a=i.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)}else $e(o.dataTransfer)&&o.preventDefault();i.enterLeaveCounter.reset()}),T(this,"handleTopDrop",function(o){var a=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(a,{clientOffset:se(o)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()}),T(this,"handleSelectStart",function(o){var a=o.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(o.preventDefault(),a.dragDrop()))}),this.options=new Ds(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new ls(this.isNodeInDocument)}return ws(t,[{key:"profile",value:function(){var r,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((r=this.dragStartSourceIds)===null||r===void 0?void 0:r.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var r=this.rootElement;if(r!==void 0){if(r.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");r.__isReactDndBackendSetUp=!0,this.addEventListeners(r)}}},{key:"teardown",value:function(){var r=this.rootElement;if(r!==void 0&&(r.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}},{key:"connectDragPreview",value:function(r,n,i){var o=this;return this.sourcePreviewNodeOptions.set(r,i),this.sourcePreviewNodes.set(r,n),function(){o.sourcePreviewNodes.delete(r),o.sourcePreviewNodeOptions.delete(r)}}},{key:"connectDragSource",value:function(r,n,i){var o=this;this.sourceNodes.set(r,n),this.sourceNodeOptions.set(r,i);var a=function(l){return o.handleDragStart(l,r)},s=function(l){return o.handleSelectStart(l)};return n.setAttribute("draggable","true"),n.addEventListener("dragstart",a),n.addEventListener("selectstart",s),function(){o.sourceNodes.delete(r),o.sourceNodeOptions.delete(r),n.removeEventListener("dragstart",a),n.removeEventListener("selectstart",s),n.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(r,n){var i=this,o=function(l){return i.handleDragEnter(l,r)},a=function(l){return i.handleDragOver(l,r)},s=function(l){return i.handleDrop(l,r)};return n.addEventListener("dragenter",o),n.addEventListener("dragover",a),n.addEventListener("drop",s),function(){n.removeEventListener("dragenter",o),n.removeEventListener("dragover",a),n.removeEventListener("drop",s)}}},{key:"addEventListeners",value:function(r){!r.addEventListener||(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(r){!r.removeEventListener||(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var r=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(r);return nr({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var r=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(r);return nr({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}},{key:"isDraggingNativeItem",value:function(){var r=this.monitor.getItemType();return Object.keys(Jt).some(function(n){return Jt[n]===r})}},{key:"beginDragNativeItem",value:function(r,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=Os(r,n),this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(r){var n=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r;var i=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){var o;return(o=n.rootElement)===null||o===void 0?void 0:o.addEventListener("mousemove",n.endDragIfSourceWasRemovedFromDOM,!0)},i)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var r;(r=this.window)===null||r===void 0||r.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(r,n){r.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}},{key:"handleDragEnter",value:function(r,n){this.dragEnterTargetIds.unshift(n)}},{key:"handleDragOver",value:function(r,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}},{key:"handleDrop",value:function(r,n){this.dropTargetIds.unshift(n)}}]),t}(),le;function Es(){return le||(le=new Image,le.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),le}var _s=function(e,r,n){return new Cs(e,r,n)};function xs(t){const e=P(),r=e.selectedIds,[n,i,o]=ja(()=>({canDrag:()=>t.isDraggable,type:"NODE",item:()=>{const a=e.isSelected(t.id)?Array.from(r):[t.id];return e.dispatch(Q.dragStart(t.id,a)),{id:t.id}},end:()=>{e.hideCursor();let{parentId:a,index:s,dragIds:u}=e.state.dnd;e.canDrop()&&(Er(e.props.onMove,{dragIds:u,parentId:a===ne?null:a,index:s===null?0:s,dragNodes:e.dragNodes,parentNode:e.get(a)}),e.open(a)),e.dispatch(Q.dragEnd())}}),[r,t]);return g.exports.useEffect(()=>{o(Es())},[o]),i}function Ns(t,e){const r=t.getBoundingClientRect(),n=e.x-Math.round(r.x),i=e.y-Math.round(r.y),o=r.height,a=i<o/2,s=!a,u=o/4,l=i>u&&i<o-u;return{x:n,inTopHalf:a,inBottomHalf:s,inMiddle:l,atTop:!l&&a,atBottom:!l&&s}}function Ps(t,e,r,n){return t?t.isInternal?n.atTop?[e,t]:n.inMiddle?[t,t]:[t,r]:n.inTopHalf?[e,t]:[t,r]:[e,null]}function ce(t,e){return{parentId:t||null,index:e}}function Y(t,e){return{type:"line",index:t,level:e}}function ks(t){return{type:"highlight",id:t}}function je(t,e){var r;let n=t;for(;n.parent&&n.level>e;)n=n.parent;const i=((r=n.parent)===null||r===void 0?void 0:r.id)||null,o=Ir(n)+1;return{parentId:i,index:o}}function Qr(t){var e;const r=Ns(t.element,t.offset),n=t.indent,i=Math.round(Math.max(0,r.x-n)/n),{node:o,nextNode:a,prevNode:s}=t,[u,l]=Ps(o,s,a,r);if(o&&o.isInternal&&r.inMiddle)return{drop:ce(o.id,null),cursor:ks(o.id)};if(!u)return{drop:ce((e=l==null?void 0:l.parent)===null||e===void 0?void 0:e.id,0),cursor:Y(0,0)};if(mr(u)){const d=de(i,(l==null?void 0:l.level)||0,u.level);return{drop:je(u,d),cursor:Y(u.rowIndex+1,d)}}if(br(u)){const d=de(i,(l==null?void 0:l.level)||0,u.level);return{drop:je(u,d),cursor:Y(u.rowIndex+1,d)}}if(Or(u)){const d=de(i,0,u.level+1);return d>u.level?{drop:ce(u.id,0),cursor:Y(u.rowIndex+1,d)}:{drop:je(u,d),cursor:Y(u.rowIndex+1,d)}}return{drop:ce(u==null?void 0:u.id,0),cursor:Y(u.rowIndex+1,u.level+1)}}function Rs(t,e){const r=P(),[n,i]=Wr(()=>({accept:"NODE",canDrop:()=>r.canDrop(),hover:(o,a)=>{const s=a.getClientOffset();if(!t.current||!s)return;const{cursor:u,drop:l}=Qr({element:t.current,offset:s,indent:r.indent,node:e,prevNode:e.prev,nextNode:e.next});l&&r.dispatch(Q.hovering(l.parentId,l.index)),a.canDrop()?u&&r.showCursor(u):r.hideCursor()},drop:(o,a)=>{if(!a.canDrop())return null}}),[e,t.current,r.props]);return i}function As(t){const e=P(),r=e.at(t);if(!r)throw new Error(`Could not find node for index: ${t}`);return g.exports.useMemo(()=>{const n=r.clone();return e.visibleNodes[t]=n,n},[...Object.values(r.state),r])}const Ms=dr.memo(function({index:e,style:r}){yr(),Tn();const n=P(),i=As(e),o=g.exports.useRef(null),a=xs(i),s=Rs(o,i),u=g.exports.useCallback(c=>{o.current=c,s(c)},[s]),l=n.indent*i.level,d=g.exports.useMemo(()=>({paddingLeft:l}),[l]),p=g.exports.useMemo(()=>{var c,f;return Object.assign(Object.assign({},r),{top:parseFloat(r.top)+((f=(c=n.props.padding)!==null&&c!==void 0?c:n.props.paddingTop)!==null&&f!==void 0?f:0)})},[r,n.props.padding,n.props.paddingTop]),b={role:"treeitem","aria-level":i.level+1,"aria-selected":i.isSelected,style:p,tabIndex:-1,className:n.props.rowClassName};g.exports.useEffect(()=>{var c;!i.isEditing&&i.isFocused&&((c=o.current)===null||c===void 0||c.focus({preventScroll:!0}))},[i.isEditing,i.isFocused,o.current]);const S=n.renderNode,I=n.renderRow;return y(I,{node:i,innerRef:u,attrs:b,children:y(S,{node:i,tree:n,style:d,dragHandle:a})})});let He="",or=null;function Jr(){yr();const t=P();return y("div",{role:"tree",style:{height:t.height,width:t.width,minHeight:0,minWidth:0},onContextMenu:t.props.onContextMenu,onClick:t.props.onClick,tabIndex:0,onFocus:e=>{e.currentTarget.contains(e.relatedTarget)||t.onFocus()},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||t.onBlur()},onKeyDown:e=>{var r;if(t.isEditing)return;if(e.key==="Backspace"){if(!t.props.onDelete)return;const i=Array.from(t.selectedIds);if(i.length>1){let o=t.mostRecentNode;for(;o&&o.isSelected;)o=o.nextSibling;o||(o=t.lastNode),t.focus(o,{scroll:!1}),t.delete(Array.from(i))}else{const o=t.focusedNode;if(o){const a=o.nextSibling,s=o.parent;t.focus(a||s,{scroll:!1}),t.delete(o)}}return}if(e.key==="Tab"&&!e.shiftKey){e.preventDefault(),Dr(e.currentTarget);return}if(e.key==="Tab"&&e.shiftKey){e.preventDefault(),Tr(e.currentTarget);return}if(e.key==="ArrowDown"){e.preventDefault();const i=t.nextNode;if(e.metaKey){t.select(t.focusedNode),t.activate(t.focusedNode);return}else if(!e.shiftKey||t.props.disableMultiSelection){t.focus(i);return}else{if(!i)return;const o=t.focusedNode;o?o.isSelected?t.selectContiguous(i):t.selectMulti(i):t.focus(t.firstNode);return}}if(e.key==="ArrowUp"){e.preventDefault();const i=t.prevNode;if(!e.shiftKey||t.props.disableMultiSelection){t.focus(i);return}else{if(!i)return;const o=t.focusedNode;o?o.isSelected?t.selectContiguous(i):t.selectMulti(i):t.focus(t.lastNode);return}}if(e.key==="ArrowRight"){const i=t.focusedNode;if(!i)return;i.isInternal&&i.isOpen?t.focus(t.nextNode):i.isInternal&&t.open(i.id);return}if(e.key==="ArrowLeft"){const i=t.focusedNode;if(!i||i.isRoot)return;i.isInternal&&i.isOpen?t.close(i.id):!((r=i.parent)===null||r===void 0)&&r.isRoot||t.focus(i.parent);return}if(e.key==="a"&&e.metaKey&&!t.props.disableMultiSelection){e.preventDefault(),t.selectAll();return}if(e.key==="a"&&!e.metaKey&&t.props.onCreate){t.createLeaf();return}if(e.key==="A"&&!e.metaKey){if(!t.props.onCreate)return;t.createInternal();return}if(e.key==="Home"){e.preventDefault(),t.focus(t.firstNode);return}if(e.key==="End"){e.preventDefault(),t.focus(t.lastNode);return}if(e.key==="Enter"){const i=t.focusedNode;if(!i||!i.isEditable||!t.props.onRename)return;setTimeout(()=>{i&&t.edit(i)});return}if(e.key===" "){e.preventDefault();const i=t.focusedNode;if(!i)return;i.isLeaf?(i.select(),i.activate()):i.toggle();return}if(e.key==="*"){const i=t.focusedNode;if(!i)return;t.openSiblings(i);return}if(e.key==="PageUp"){e.preventDefault(),t.pageUp();return}e.key==="PageDown"&&(e.preventDefault(),t.pageDown()),clearTimeout(or),He+=e.key,or=setTimeout(()=>{He=""},600);const n=t.visibleNodes.find(i=>{const o=i.data.name;return typeof o=="string"?o.toLowerCase().startsWith(He):!1});n&&t.focus(n.id)},children:y(ii,{className:t.props.className,outerRef:t.listEl,itemCount:t.visibleNodes.length,height:t.height,width:t.width,itemSize:t.rowHeight,overscanCount:t.overscanCount,itemKey:e=>{var r;return((r=t.visibleNodes[e])===null||r===void 0?void 0:r.id)||e},outerElementType:si,innerElementType:ci,onScroll:t.props.onScroll,onItemsRendered:t.onItemsRendered.bind(t),ref:t.list,children:Ms})})}function ar(t){return t.isFiltered?Ls(t.root,t.isMatch.bind(t)):$s(t.root)}function $s(t){const e=[];function r(n){var i;n.level>=0&&e.push(n),n.isOpen&&((i=n.children)===null||i===void 0||i.forEach(r))}return r(t),e.forEach(Zr),e}function Ls(t,e){const r={},n=[];function i(a){if(!a.isRoot&&e(a)){r[a.id]=!0;let u=a.parent;for(;u;)r[u.id]=!0,u=u.parent}if(a.children)for(let u of a.children)i(u)}function o(a){var s;a.level>=0&&r[a.id]&&n.push(a),a.isOpen&&((s=a.children)===null||s===void 0||s.forEach(o))}return i(t),o(t),n.forEach(Zr),n}function Zr(t,e){t.rowIndex=e}const sr=t=>t.reduce((e,r,n)=>(e[r.id]=n,e),{});var Fe=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(d){try{l(n.next(d))}catch(p){a(p)}}function u(d){try{l(n.throw(d))}catch(p){a(p)}}function l(d){d.done?o(d.value):i(d.value).then(s,u)}l((n=n.apply(t,e||[])).next())})};const{safeRun:_,identify:j,identifyNull:$}=Nn;class re{constructor(e,r,n,i){this.store=e,this.props=r,this.list=n,this.listEl=i,this.visibleStartIndex=0,this.visibleStopIndex=0,this.root=ut(this),this.visibleNodes=ar(this),this.idToIndex=sr(this.visibleNodes)}update(e){this.props=e,this.root=ut(this),this.visibleNodes=ar(this),this.idToIndex=sr(this.visibleNodes)}dispatch(e){return this.store.dispatch(e)}get state(){return this.store.getState()}get openState(){return this.state.nodes.open.unfiltered}get width(){var e;return(e=this.props.width)!==null&&e!==void 0?e:300}get height(){var e;return(e=this.props.height)!==null&&e!==void 0?e:500}get indent(){var e;return(e=this.props.indent)!==null&&e!==void 0?e:24}get rowHeight(){var e;return(e=this.props.rowHeight)!==null&&e!==void 0?e:24}get overscanCount(){var e;return(e=this.props.overscanCount)!==null&&e!==void 0?e:1}get searchTerm(){return(this.props.searchTerm||"").trim()}get matchFn(){var e;const r=(e=this.props.searchMatch)!==null&&e!==void 0?e:(n,i)=>JSON.stringify(Object.values(n.data)).toLocaleLowerCase().includes(i.toLocaleLowerCase());return n=>r(n,this.searchTerm)}accessChildren(e){var r;const n=this.props.childrenAccessor||"children";return(r=te(e,n))!==null&&r!==void 0?r:null}accessId(e){const r=this.props.idAccessor||"id",n=te(e,r);if(!n)throw new Error("Data must contain an 'id' property or props.idAccessor must return a string");return n}get firstNode(){var e;return(e=this.visibleNodes[0])!==null&&e!==void 0?e:null}get lastNode(){var e;return(e=this.visibleNodes[this.visibleNodes.length-1])!==null&&e!==void 0?e:null}get focusedNode(){var e;return(e=this.get(this.state.nodes.focus.id))!==null&&e!==void 0?e:null}get mostRecentNode(){var e;return(e=this.get(this.state.nodes.selection.mostRecent))!==null&&e!==void 0?e:null}get nextNode(){const e=this.indexOf(this.focusedNode);return e===null?null:this.at(e+1)}get prevNode(){const e=this.indexOf(this.focusedNode);return e===null?null:this.at(e-1)}get(e){return e&&e in this.idToIndex&&this.visibleNodes[this.idToIndex[e]]||null}at(e){return this.visibleNodes[e]||null}nodesBetween(e,r){var n;if(e===null||r===null)return[];const i=(n=this.indexOf(e))!==null&&n!==void 0?n:0,o=this.indexOf(r);if(o===null)return[];const a=Math.min(i,o),s=Math.max(i,o);return this.visibleNodes.slice(a,s+1)}indexOf(e){const r=Cr(e);return r?this.idToIndex[r]:null}get editingId(){return this.state.nodes.edit.id}createInternal(){return this.create({type:"internal"})}createLeaf(){return this.create({type:"leaf"})}create(e={}){var r,n;return Fe(this,void 0,void 0,function*(){const i=e.parentId===void 0?Nr(this):e.parentId,o=(r=e.index)!==null&&r!==void 0?r:xr(this),a=(n=e.type)!==null&&n!==void 0?n:"leaf",s=yield _(this.props.onCreate,{type:a,parentId:i,index:o,parentNode:this.get(i)});s&&(this.focus(s),setTimeout(()=>{this.edit(s).then(()=>{this.select(s),this.activate(s)})}))})}delete(e){return Fe(this,void 0,void 0,function*(){if(!e)return;const n=(Array.isArray(e)?e:[e]).map(j),i=n.map(o=>this.get(o)).filter(o=>!!o);yield _(this.props.onDelete,{nodes:i,ids:n})})}edit(e){const r=j(e);return this.resolveEdit({cancelled:!0}),this.scrollTo(r),this.dispatch(xe(r)),new Promise(n=>{re.editPromise=n})}submit(e,r){return Fe(this,void 0,void 0,function*(){if(!e)return;const n=j(e);yield _(this.props.onRename,{id:n,name:r,node:this.get(n)}),this.dispatch(xe(null)),this.resolveEdit({cancelled:!1,value:r}),setTimeout(()=>this.onFocus())})}reset(){this.dispatch(xe(null)),this.resolveEdit({cancelled:!0}),setTimeout(()=>this.onFocus())}activate(e){const r=this.get($(e));!r||_(this.props.onActivate,r)}resolveEdit(e){const r=re.editPromise;r&&r(e),re.editPromise=null}get selectedIds(){return this.state.nodes.selection.ids}get selectedNodes(){let e=[];for(let r of Array.from(this.selectedIds)){const n=this.get(r);n&&e.push(n)}return e}focus(e,r={}){!e||(this.props.selectionFollowsFocus?this.select(e):(this.dispatch(V(j(e))),r.scroll!==!1&&this.scrollTo(e),this.focusedNode&&_(this.props.onFocus,this.focusedNode)))}pageUp(){var e,r;const n=this.visibleStartIndex,o=this.visibleStopIndex-n;let a=(r=(e=this.focusedNode)===null||e===void 0?void 0:e.rowIndex)!==null&&r!==void 0?r:0;a>n?a=n:a=Math.max(n-o,0),this.focus(this.at(a))}pageDown(){var e,r;const n=this.visibleStartIndex,i=this.visibleStopIndex,o=i-n;let a=(r=(e=this.focusedNode)===null||e===void 0?void 0:e.rowIndex)!==null&&r!==void 0?r:0;a<i?a=i:a=Math.min(a+o,this.visibleNodes.length-1),this.focus(this.at(a))}select(e,r={}){if(!e)return;const n=r.focus!==!1,i=j(e);n&&this.dispatch(V(i)),this.dispatch(M.only(i)),this.dispatch(M.anchor(i)),this.dispatch(M.mostRecent(i)),this.scrollTo(i,r.align),this.focusedNode&&n&&_(this.props.onFocus,this.focusedNode),_(this.props.onSelect,this.selectedNodes)}deselect(e){if(!e)return;const r=j(e);this.dispatch(M.remove(r))}selectMulti(e){const r=this.get($(e));!r||(this.dispatch(V(r.id)),this.dispatch(M.add(r.id)),this.dispatch(M.anchor(r.id)),this.dispatch(M.mostRecent(r.id)),this.scrollTo(r),this.focusedNode&&_(this.props.onFocus,this.focusedNode),_(this.props.onSelect,this.selectedNodes))}selectContiguous(e){if(!e)return;const r=j(e),{anchor:n,mostRecent:i}=this.state.nodes.selection;this.dispatch(V(r)),this.dispatch(M.remove(this.nodesBetween(n,i))),this.dispatch(M.add(this.nodesBetween(n,$(r)))),this.dispatch(M.mostRecent(r)),this.scrollTo(r),this.focusedNode&&_(this.props.onFocus,this.focusedNode),_(this.props.onSelect,this.selectedNodes)}deselectAll(){this.setSelection({ids:[],anchor:null,mostRecent:null}),_(this.props.onSelect,this.selectedNodes)}selectAll(){var e;this.setSelection({ids:Object.keys(this.idToIndex),anchor:this.firstNode,mostRecent:this.lastNode}),this.dispatch(V((e=this.lastNode)===null||e===void 0?void 0:e.id)),this.focusedNode&&_(this.props.onFocus,this.focusedNode),_(this.props.onSelect,this.selectedNodes)}setSelection(e){var r;const n=new Set((r=e.ids)===null||r===void 0?void 0:r.map(j)),i=$(e.anchor),o=$(e.mostRecent);this.dispatch(M.set({ids:n,anchor:i,mostRecent:o})),_(this.props.onSelect,this.selectedNodes)}get cursorParentId(){const{cursor:e}=this.state.dnd;switch(e.type){case"highlight":return e.id;default:return null}}get cursorOverFolder(){return this.state.dnd.cursor.type==="highlight"}get dragNodes(){return this.state.dnd.dragIds.map(e=>this.get(e)).filter(e=>!!e)}get dragNode(){return this.get(this.state.nodes.drag.id)}get dragDestinationParent(){return this.get(this.state.nodes.drag.destinationParentId)}get dragDestinationIndex(){return this.state.nodes.drag.destinationIndex}canDrop(){var e;if(this.isFiltered)return!1;const r=(e=this.get(this.state.dnd.parentId))!==null&&e!==void 0?e:this.root,n=this.dragNodes,i=this.props.disableDrop;for(const o of n)if(!o||!r||o.isInternal&&Sr(r,o))return!1;return typeof i=="function"?!i({parentNode:r,dragNodes:this.dragNodes,index:this.state.dnd.index||0}):typeof i=="string"?!r.data[i]:typeof i=="boolean"?!i:!0}hideCursor(){this.dispatch(Q.cursor({type:"none"}))}showCursor(e){this.dispatch(Q.cursor(e))}open(e){const r=$(e);!r||this.isOpen(r)||(this.dispatch(ze.open(r,this.isFiltered)),_(this.props.onToggle,r))}close(e){const r=$(e);!r||!this.isOpen(r)||(this.dispatch(ze.close(r,this.isFiltered)),_(this.props.onToggle,r))}toggle(e){const r=$(e);if(!!r)return this.isOpen(r)?this.close(r):this.open(r)}openParents(e){const r=$(e);if(!r)return;const n=Ye(this.root,r);let i=n==null?void 0:n.parent;for(;i;)this.open(i.id),i=i.parent}openSiblings(e){const r=e.parent;if(!r)this.toggle(e.id);else if(r.children){const n=e.isOpen;for(let i of r.children)i.isInternal&&(n?this.close(i.id):this.open(i.id));this.scrollTo(this.focusedNode)}}openAll(){be(this.root,e=>{e.isInternal&&e.open()})}closeAll(){be(this.root,e=>{e.isInternal&&e.close()})}scrollTo(e,r="smart"){if(!e)return;const n=j(e);return this.openParents(n),_r(()=>n in this.idToIndex).then(()=>{var i;const o=this.idToIndex[n];o!==void 0&&((i=this.list.current)===null||i===void 0||i.scrollToItem(o,r))}).catch(()=>{})}get isEditing(){return this.state.nodes.edit.id!==null}get isFiltered(){var e;return!!(!((e=this.props.searchTerm)===null||e===void 0)&&e.trim())}get hasFocus(){return this.state.nodes.focus.treeFocused}get hasNoSelection(){return this.state.nodes.selection.ids.size===0}get hasOneSelection(){return this.state.nodes.selection.ids.size===1}get hasMultipleSelections(){return this.state.nodes.selection.ids.size>1}isSelected(e){return e?this.state.nodes.selection.ids.has(e):!1}isOpen(e){var r,n,i;if(!e)return!1;if(e===ne)return!0;const o=(r=this.props.openByDefault)!==null&&r!==void 0?r:!0;return this.isFiltered?(n=this.state.nodes.open.filtered[e])!==null&&n!==void 0?n:!0:(i=this.state.nodes.open.unfiltered[e])!==null&&i!==void 0?i:o}isEditable(e){var r;const n=this.props.disableEdit||(()=>!1);return(r=!te(e,n))!==null&&r!==void 0?r:!0}isDraggable(e){var r;const n=this.props.disableDrag||(()=>!1);return(r=!te(e,n))!==null&&r!==void 0?r:!0}isDragging(e){const r=$(e);return r?this.state.nodes.drag.id===r:!1}isFocused(e){return this.hasFocus&&this.state.nodes.focus.id===e}isMatch(e){return this.matchFn(e)}willReceiveDrop(e){const r=$(e);if(!r)return!1;const{destinationParentId:n,destinationIndex:i}=this.state.nodes.drag;return r===n&&i===null}onFocus(){const e=this.focusedNode||this.firstNode;e&&this.dispatch(V(e.id))}onBlur(){this.dispatch(Fn())}onItemsRendered(e){this.visibleStartIndex=e.visibleStartIndex,this.visibleStopIndex=e.visibleStopIndex}get renderContainer(){return this.props.renderContainer||Jr}get renderRow(){return this.props.renderRow||Mn}get renderNode(){return this.props.children||$n}get renderDragPreview(){return this.props.renderDragPreview||Pr}get renderCursor(){return this.props.renderCursor||An}}var js=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),ur=js,Ue=()=>Math.random().toString(36).substring(7).split("").join("."),Hs={INIT:`@@redux/INIT${Ue()}`,REPLACE:`@@redux/REPLACE${Ue()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ue()}`},z=Hs;function en(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Fs(t){if(t===void 0)return"undefined";if(t===null)return"null";const e=typeof t;switch(e){case"boolean":case"string":case"number":case"symbol":case"function":return e}if(Array.isArray(t))return"array";if(Ws(t))return"date";if(zs(t))return"error";const r=Us(t);switch(r){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return r}return Object.prototype.toString.call(t).slice(8,-1).toLowerCase().replace(/\s/g,"")}function Us(t){return typeof t.constructor=="function"?t.constructor.name:null}function zs(t){return t instanceof Error||typeof t.message=="string"&&t.constructor&&typeof t.constructor.stackTraceLimit=="number"}function Ws(t){return t instanceof Date?!0:typeof t.toDateString=="function"&&typeof t.getDate=="function"&&typeof t.setDate=="function"}function H(t){let e=typeof t;return e=Fs(t),e}function tn(t,e,r){if(typeof t!="function")throw new Error(`Expected the root reducer to be a function. Instead, received: '${H(t)}'`);if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(`Expected the enhancer to be a function. Instead, received: '${H(r)}'`);return r(tn)(t,e)}let n=t,i=e,o=new Map,a=o,s=0,u=!1;function l(){a===o&&(a=new Map,o.forEach((f,h)=>{a.set(h,f)}))}function d(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function p(f){if(typeof f!="function")throw new Error(`Expected the listener to be a function. Instead, received: '${H(f)}'`);if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");let h=!0;l();const v=s++;return a.set(v,f),function(){if(!!h){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");h=!1,l(),a.delete(v),o=null}}}function b(f){if(!en(f))throw new Error(`Actions must be plain objects. Instead, the actual type was: '${H(f)}'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.`);if(typeof f.type>"u")throw new Error('Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(typeof f.type!="string")throw new Error(`Action "type" property must be a string. Instead, the actual type was: '${H(f.type)}'. Value was: '${f.type}' (stringified)`);if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=n(i,f)}finally{u=!1}return(o=a).forEach(v=>{v()}),f}function S(f){if(typeof f!="function")throw new Error(`Expected the nextReducer to be a function. Instead, received: '${H(f)}`);n=f,b({type:z.REPLACE})}function I(){const f=p;return{subscribe(h){if(typeof h!="object"||h===null)throw new Error(`Expected the observer to be an object. Instead, received: '${H(h)}'`);function v(){const w=h;w.next&&w.next(d())}return v(),{unsubscribe:f(v)}},[ur](){return this}}}return b({type:z.INIT}),{dispatch:b,subscribe:p,getState:d,replaceReducer:S,[ur]:I}}function lr(t){typeof console<"u"&&typeof console.error=="function"&&console.error(t);try{throw new Error(t)}catch{}}function Bs(t,e,r,n){const i=Object.keys(e),o=r&&r.type===z.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(i.length===0)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!en(t))return`The ${o} has unexpected type of "${H(t)}". Expected argument to be an object with the following keys: "${i.join('", "')}"`;const a=Object.keys(t).filter(s=>!e.hasOwnProperty(s)&&!n[s]);if(a.forEach(s=>{n[s]=!0}),!(r&&r.type===z.REPLACE)&&a.length>0)return`Unexpected ${a.length>1?"keys":"key"} "${a.join('", "')}" found in ${o}. Expected to find one of the known reducer keys instead: "${i.join('", "')}". Unexpected keys will be ignored.`}function Vs(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:z.INIT})>"u")throw new Error(`The slice reducer for key "${e}" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.`);if(typeof r(void 0,{type:z.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(`The slice reducer for key "${e}" returned undefined when probed with a random type. Don't try to handle '${z.INIT}' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.`)})}function cr(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]>"u"&&lr(`No reducer provided for key "${s}"`),typeof t[s]=="function"&&(r[s]=t[s])}const n=Object.keys(r);let i;i={};let o;try{Vs(r)}catch(a){o=a}return function(s={},u){if(o)throw o;{const p=Bs(s,r,u,i);p&&lr(p)}let l=!1;const d={};for(let p=0;p<n.length;p++){const b=n[p],S=r[b],I=s[b],c=S(I,u);if(typeof c>"u"){const f=u&&u.type;throw new Error(`When called with an action of type ${f?`"${String(f)}"`:"(unknown type)"}, the slice reducer for key "${b}" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.`)}d[b]=c,l=l||c!==I}return l=l||n.length!==Object.keys(s).length,l?d:s}}function qs(t=X().nodes.drag,e){switch(e.type){case"DND_DRAG_START":return Object.assign(Object.assign({},t),{id:e.id,selectedIds:e.dragIds});case"DND_DRAG_END":return Object.assign(Object.assign({},t),{id:null,destinationParentId:null,destinationIndex:null,selectedIds:[]});case"DND_HOVERING":return e.parentId!==t.destinationParentId||e.index!=t.destinationIndex?Object.assign(Object.assign({},t),{destinationParentId:e.parentId,destinationIndex:e.index}):t;default:return t}}const Gs=cr({nodes:cr({focus:Un,edit:Hn,open:zn,selection:Wn,drag:qs}),dnd:Bn}),Ks=X();function Ys({treeProps:t,imperativeHandle:e,children:r}){const n=g.exports.useRef(null),i=g.exports.useRef(null),o=g.exports.useRef(tn(Gs,X(t))),a=gn.exports.useSyncExternalStore(o.current.subscribe,o.current.getState,()=>Ks),s=g.exports.useMemo(()=>new re(o.current,t,n,i),[]),u=g.exports.useRef(0);return g.exports.useMemo(()=>{u.current+=1,s.update(t)},[...Object.values(t),a.nodes.open]),g.exports.useImperativeHandle(e,()=>s),g.exports.useEffect(()=>{s.props.selection?s.select(s.props.selection,{focus:!1}):s.deselectAll()},[s.props.selection]),g.exports.useEffect(()=>{s.props.searchTerm||o.current.dispatch(ze.clear(!0))},[s.props.searchTerm]),y(hr.Provider,{value:s,children:y(vr.Provider,{value:u.current,children:y(gr.Provider,{value:a.nodes,children:y(pr.Provider,{value:a.dnd,children:y(Fo,Object.assign({backend:_s,options:{rootElement:s.props.dndRootElement||void 0}},t.dndManager&&{manager:t.dndManager},{children:r}))})})})})}function Xs(){const t=P(),[,e]=Wr(()=>({accept:"NODE",canDrop:(r,n)=>n.isOver({shallow:!0})?t.canDrop():!1,hover:(r,n)=>{if(!n.isOver({shallow:!0}))return;const i=n.getClientOffset();if(!t.listEl.current||!i)return;const{cursor:o,drop:a}=Qr({element:t.listEl.current,offset:i,indent:t.indent,node:null,prevNode:t.visibleNodes[t.visibleNodes.length-1],nextNode:null});a&&t.dispatch(Q.hovering(a.parentId,a.index)),n.canDrop()?o&&t.showCursor(o):t.hideCursor()}}),[t]);e(t.listEl)}function Qs(t){return Xs(),t.children}function Js(){const e=P().props.renderContainer||Jr;return y(fr,{children:y(e,{})})}function Zs(){const t=P(),{offset:e,mouse:r,item:n,isDragging:i}=is(a=>({offset:a.getSourceClientOffset(),mouse:a.getClientOffset(),item:a.getItem(),isDragging:a.isDragging()})),o=t.props.renderDragPreview||Pr;return y(o,{offset:e,mouse:r,id:(n==null?void 0:n.id)||null,dragIds:(n==null?void 0:n.dragIds)||[],isDragging:i})}class eu{constructor(e){this.root=tu(e)}get data(){var e,r;return(r=(e=this.root.children)===null||e===void 0?void 0:e.map(n=>n.data))!==null&&r!==void 0?r:[]}create(e){const r=e.parentId?this.find(e.parentId):this.root;if(!r)return null;r.addChild(e.data,e.index)}move(e){const r=this.find(e.id),n=e.parentId?this.find(e.parentId):this.root;!r||!n||(n.addChild(r.data,e.index),r.drop())}update(e){const r=this.find(e.id);r&&r.update(e.changes)}drop(e){const r=this.find(e.id);r&&r.drop()}find(e,r=this.root){if(!r)return null;if(r.id===e)return r;if(r.children){for(let n of r.children){const i=this.find(e,n);if(i)return i}return null}return null}}function tu(t){const e=new rn({id:"ROOT"},null);return e.children=t.map(r=>rt(r,e)),e}function rt(t,e){const r=new rn(t,e);return t.children&&(r.children=t.children.map(n=>rt(n,r))),r}class rn{constructor(e,r){this.data=e,this.parent=r,this.id=e.id}hasParent(){return!!this.parent}get childIndex(){return this.hasParent()?this.parent.children.indexOf(this):-1}addChild(e,r){var n,i;const o=rt(e,this);this.children=(n=this.children)!==null&&n!==void 0?n:[],this.children.splice(r,0,o),this.data.children=(i=this.data.children)!==null&&i!==void 0?i:[],this.data.children.splice(r,0,e)}removeChild(e){var r,n;(r=this.children)===null||r===void 0||r.splice(e,1),(n=this.data.children)===null||n===void 0||n.splice(e,1)}update(e){if(this.hasParent()){const r=this.childIndex;this.parent.addChild(Object.assign(Object.assign({},this.data),e),r),this.drop()}}drop(){this.hasParent()&&this.parent.removeChild(this.childIndex)}}let ru=0;function nu(t){const[e,r]=g.exports.useState(t),n=g.exports.useMemo(()=>new eu(e),[e]);return[e,{onMove:l=>{for(const d of l.dragIds)n.move({id:d,parentId:l.parentId,index:l.index});r(n.data)},onRename:({name:l,id:d})=>{n.update({id:d,changes:{name:l}}),r(n.data)},onCreate:({parentId:l,index:d,type:p})=>{const b={id:`simple-tree-id-${ru++}`,name:""};return p==="internal"&&(b.children=[]),n.create({parentId:l,index:d,data:b}),r(n.data),b},onDelete:l=>{l.ids.forEach(d=>n.drop({id:d})),r(n.data)}}]}function iu(t){if(t.initialData&&t.data)throw new Error("React Arborist Tree => Provide either a data or initialData prop, but not both.");if(t.initialData&&(t.onCreate||t.onDelete||t.onMove||t.onRename))throw new Error(`React Arborist Tree => You passed the initialData prop along with a data handler.
Use the data prop if you want to provide your own handlers.`);if(t.initialData){const[e,r]=nu(t.initialData);return Object.assign(Object.assign(Object.assign({},t),r),{data:e})}else return t}function ou(t,e){const r=iu(t);return F(Ys,{treeProps:r,imperativeHandle:e,children:[y(Qs,{children:y(Js,{})}),y(Zs,{})]})}const au=g.exports.forwardRef(ou);function su({node:t,style:e,dragHandle:r}){return y("div",{style:e,ref:r,onClick:()=>t.toggle(),children:F("div",{className:"flex items-center gap-1 border-b border-neutral-200",children:[t.isOpen&&t.children.length>0?y(ae,{icon:"heroicons:arrow-down-solid"}):t.children.length>0?y(ae,{icon:"heroicons:arrow-right-solid"}):null,t.children.length>0?y(ae,{icon:"heroicons:user-group-solid"}):y(ae,{icon:"heroicons:user-solid"})," ",y("span",{className:"font-semibold",children:t.data.username}),t.children.length>0&&F("span",{className:"font-semibold text-green-400",children:[" ","+ ",t.children.length]})]})})}function pu(){const t=pn();vn(),yn();const{data:e,isLoading:r,isFetching:n,error:i,isError:o}=Dn(void 0,{skipPollingIfUnfocused:!0,refetchOnMountOrArgChange:!0,skip:!1});return g.exports.useEffect(()=>{console.log("error",i),console.log("isError",o),o&&(i==null?void 0:i.status)===401&&(localStorage.removeItem("token"),t("/"))},[i,o]),console.log("getReferrals",e),r||n?y(mn,{}):F("div",{children:[y("div",{className:"flex flex-wrap justify-between items-center mb-4"}),y(bn,{title:"Referrals",noborder:!0,bodyClass:"px-6 py-1",children:y(au,{initialData:e,openByDefault:!1,idAccessor:"username",childrenAccessor:a=>a.referral,width:"100%",height:1e3,indent:24,rowHeight:30,paddingTop:10,paddingBottom:10,padding:25,children:su})})]})}export{pu as default};
