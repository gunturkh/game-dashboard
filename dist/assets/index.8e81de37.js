import{u as m,a as g,j as s,b as f,r as d,L as b,c as v,C as u}from"./index.c3bfd613.js";import{G as D}from"./group-chart-1.98c3f701.js";import{_ as C}from"./react-apexcharts.min.b9a3ae8f.js";import{S as y}from"./SelectMonth.3a152d34.js";import"./index.8a249f4e.js";import"./index.ecae7a97.js";import{H as E}from"./HomeBredCurbs.53aca48f.js";import"./dayjs.min.68b8090d.js";const F=({data:e})=>{var n,p;console.log("radial data",e);const[r]=m(),{width:t,breakpoints:l}=g(),i=(n=e==null?void 0:e.player_level_count)==null?void 0:n.map(a=>`${a.count}`),o={chart:{toolbar:{show:!1}},plotOptions:{radialBar:{dataLabels:{name:{fontSize:"22px",color:r?"#CBD5E1":"#475569"},value:{fontSize:"16px",color:r?"#CBD5E1":"#475569"},total:{show:!0,label:"Total",color:r?"#CBD5E1":"#475569",formatter:function(){var a;return`${(a=e==null?void 0:e.player_level_count)==null?void 0:a.reduce((c,h)=>(c=c+h.count,c),0)} Players`}}},track:{background:"#E2E8F0",strokeWidth:"97%"}}},labels:(p=e==null?void 0:e.player_level_count)==null?void 0:p.map(a=>`Level ${a.level}`),colors:["#4669FA","#FA916B","#50C793","#0CE7FA","#1F4B47","#A3F9D5","#007A8D","#003F42","#3F5EDF","#203271","#0F172A"]};return s("div",{children:s(C,{options:o,series:i,type:"radialBar",height:t>l.md?360:250})})},x=f.injectEndpoints({tagTypes:["Dashboard"],endpoints:e=>({getDashboard:e.query({query:()=>({url:"/admin/dashboard"}),transformResponse:r=>r.data,providesTags:["Dashboard"]})})}),{useGetDashboardQuery:k}=x,w=()=>{d.exports.useState("usa");const[e,r]=d.exports.useState(!1),{data:t,isLoading:l,isFetching:i,error:o,isError:n}=k(void 0,{pollingInterval:18e4,skipPollingIfUnfocused:!0,refetchOnMountOrArgChange:!0,skip:!1});return d.exports.useEffect(()=>{n&&(o==null?void 0:o.status)===401&&(toast.error("Session expired, please relogin"),localStorage.removeItem("token"),navigate("/"))},[o]),d.exports.useEffect(()=>{r(!0),l||i||r(!1)},[l,i]),e?s(b,{}):v("div",{children:[s(E,{title:"Dashboard"}),s("div",{className:"grid grid-cols-12 gap-5 mb-5",children:s("div",{className:"col-span-12",children:s(u,{bodyClass:"p-4",children:s("div",{className:"grid md:grid-cols-4 gap-4",children:s(D,{data:t})})})})}),s("div",{className:"grid grid-cols-12 gap-5",children:s("div",{className:"lg:col-span-4 col-span-12",children:s(u,{title:"Players Level",headerslot:s(y,{}),children:s(F,{data:t})})})})]})};export{w as default};
